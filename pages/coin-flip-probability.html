<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>101 vs 100 ç¡¬å¸é—®é¢˜ - æ¦‚ç‡æ¨¡æ‹Ÿ</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    .container { max-width: 800px; margin: 0 auto; }
    .back-link {
      display: inline-block;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    .back-link:hover { text-decoration: underline; }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
      background: linear-gradient(135deg, #ffd700, #ffaa00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      margin-bottom: 25px;
      font-size: 0.95rem;
    }
    .card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .question-box {
      background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(255,170,0,0.1));
      border-left: 4px solid #ffd700;
      padding: 15px 20px;
      border-radius: 0 12px 12px 0;
      margin-bottom: 20px;
      font-size: 1.05rem;
      line-height: 1.7;
    }
    .answer-reveal {
      text-align: center;
      padding: 20px;
    }
    .answer-big {
      font-size: 4rem;
      font-weight: bold;
      background: linear-gradient(135deg, #ffd700, #ff6b6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .answer-text {
      color: rgba(255,255,255,0.8);
      margin-top: 10px;
    }
    
    .simulator {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    @media (max-width: 600px) {
      .simulator { grid-template-columns: 1fr; }
    }
    .player-box {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
    }
    .player-box h3 {
      margin-bottom: 10px;
      font-size: 1.1rem;
    }
    .player-box.jia { border: 2px solid #4ecdc4; }
    .player-box.yi { border: 2px solid #ff6b6b; }
    .coin-count {
      font-size: 2.5rem;
      font-weight: bold;
      margin: 10px 0;
    }
    .player-box.jia .coin-count { color: #4ecdc4; }
    .player-box.yi .coin-count { color: #ff6b6b; }
    .coin-label { color: rgba(255,255,255,0.6); font-size: 0.85rem; }
    
    .coins-visual {
      display: flex;
      flex-wrap: wrap;
      gap: 3px;
      justify-content: center;
      margin-top: 10px;
      min-height: 60px;
    }
    .coin {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }
    .coin.heads { background: #ffd700; color: #333; }
    .coin.tails { background: #666; color: #999; }
    
    .controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }
    .btn-primary {
      background: linear-gradient(135deg, #4ecdc4, #44a08d);
      color: white;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(78, 205, 196, 0.4);
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .btn-secondary:hover { background: rgba(255,255,255,0.2); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    
    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    .stat-box {
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }
    .stat-value {
      font-size: 1.8rem;
      font-weight: bold;
      color: #ffd700;
    }
    .stat-label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
      margin-top: 5px;
    }
    
    .progress-bar {
      height: 30px;
      background: rgba(0,0,0,0.3);
      border-radius: 15px;
      overflow: hidden;
      margin: 20px 0;
      display: flex;
    }
    .progress-jia {
      background: linear-gradient(90deg, #4ecdc4, #44a08d);
      height: 100%;
      transition: width 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: bold;
    }
    .progress-yi {
      background: linear-gradient(90deg, #ff6b6b, #ee5a5a);
      height: 100%;
      transition: width 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: bold;
    }
    
    .proof {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }
    .proof h3 {
      color: #ffd700;
      margin-bottom: 15px;
    }
    .proof p {
      color: rgba(255,255,255,0.85);
      line-height: 1.8;
      margin-bottom: 10px;
    }
    .proof .formula {
      background: rgba(255,255,255,0.1);
      padding: 10px 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 10px 0;
      overflow-x: auto;
    }
    .result-display {
      text-align: center;
      padding: 15px;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      margin-top: 15px;
    }
    .result-display .winner {
      font-size: 1.3rem;
      font-weight: bold;
    }
    .result-display .winner.jia { color: #4ecdc4; }
    .result-display .winner.yi { color: #ff6b6b; }
    .result-display .winner.tie { color: #ffd700; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1>ğŸª™ 101 vs 100 ç¡¬å¸é—®é¢˜</h1>
    <p class="subtitle">ä¸€é“çœ‹ä¼¼å¤æ‚å®åˆ™ä¼˜é›…çš„æ¦‚ç‡é¢˜</p>
    
    <div class="card">
      <div class="question-box">
        <strong>é—®é¢˜ï¼š</strong>ç”²æœ‰ <strong>101</strong> ä¸ªç¡¬å¸ï¼Œä¹™æœ‰ <strong>100</strong> ä¸ªç¡¬å¸ï¼Œä¸¤äººåŒæ—¶éšæœºæ’’åœ¨åœ°é¢ä¸Šã€‚é—®ï¼šç”²æ­£é¢æœä¸Šçš„ç¡¬å¸æ•°æ¯”ä¹™å¤šçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ
      </div>
      
      <div class="answer-reveal">
        <div class="answer-big">1/2</div>
        <p class="answer-text">ç­”æ¡ˆå°±æ˜¯è¿™ä¹ˆç®€æ´ä¼˜é›…ï¼</p>
      </div>
    </div>
    
    <div class="card">
      <h2 style="margin-bottom: 15px;">ğŸ® è’™ç‰¹å¡æ´›æ¨¡æ‹ŸéªŒè¯</h2>
      
      <div class="simulator">
        <div class="player-box jia">
          <h3>ç”²ï¼ˆ101æšï¼‰</h3>
          <div class="coin-count" id="jiaHeads">0</div>
          <div class="coin-label">æ­£é¢æœä¸Š</div>
          <div class="coins-visual" id="jiaCoins"></div>
        </div>
        <div class="player-box yi">
          <h3>ä¹™ï¼ˆ100æšï¼‰</h3>
          <div class="coin-count" id="yiHeads">0</div>
          <div class="coin-label">æ­£é¢æœä¸Š</div>
          <div class="coins-visual" id="yiCoins"></div>
        </div>
      </div>
      
      <div class="result-display" id="resultDisplay">
        <span class="winner">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹æ¨¡æ‹Ÿ</span>
      </div>
      
      <div class="controls">
        <button class="btn btn-primary" id="flipOnce">ğŸª™ æŠ›ä¸€æ¬¡</button>
        <button class="btn btn-secondary" id="flip100">å¿«é€Ÿ 100 æ¬¡</button>
        <button class="btn btn-secondary" id="flip1000">å¿«é€Ÿ 1000 æ¬¡</button>
        <button class="btn btn-secondary" id="flip10000">å¿«é€Ÿ 10000 æ¬¡</button>
        <button class="btn btn-secondary" id="resetBtn">ğŸ”„ é‡ç½®</button>
      </div>
      
      <div class="progress-bar">
        <div class="progress-jia" id="progressJia" style="width: 50%;">ç”²èµ¢ 50%</div>
        <div class="progress-yi" id="progressYi" style="width: 50%;">ä¹™èµ¢ 50%</div>
      </div>
      
      <div class="stats">
        <div class="stat-box">
          <div class="stat-value" id="totalRounds">0</div>
          <div class="stat-label">æ€»è½®æ•°</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="jiaWins">0</div>
          <div class="stat-label">ç”²èµ¢æ¬¡æ•°</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="jiaProbability">-</div>
          <div class="stat-label">ç”²èµ¢æ¦‚ç‡</div>
        </div>
      </div>
    </div>
    
    <div class="card proof">
      <h3>ğŸ“ æ•°å­¦è¯æ˜</h3>
      <p>è¿™é“é¢˜çš„ç²¾å¦™ä¹‹å¤„åœ¨äºï¼Œä¸éœ€è¦å¤æ‚è®¡ç®—ï¼Œåªéœ€è¦å·§å¦™çš„å¯¹ç§°æ€§åˆ†æï¼š</p>
      
      <p><strong>ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†é—®é¢˜</strong></p>
      <p>æŠŠç”²çš„ 101 æšç¡¬å¸æ‹†æˆã€Œå‰ 100 æšã€+ã€Œç¬¬ 101 æšã€ã€‚è®¾ï¼š</p>
      <div class="formula">X = ç”²å‰100æšæ­£é¢æ•°ï¼ŒY = ä¹™100æšæ­£é¢æ•°</div>
      
      <p><strong>ç¬¬äºŒæ­¥ï¼šå¯¹ç§°æ€§</strong></p>
      <p>X å’Œ Y éƒ½æ˜¯ 100 æšç¡¬å¸çš„æ­£é¢æ•°ï¼Œå®Œå…¨å¯¹ç§°ï¼Œæ‰€ä»¥ï¼š</p>
      <div class="formula">P(X > Y) = P(X < Y) = p</div>
      
      <p><strong>ç¬¬ä¸‰æ­¥ï¼šåˆ†ç±»è®¨è®º</strong></p>
      <p>ç”²èµ¢ï¼ˆæ­£é¢æ•°æ›´å¤šï¼‰çš„æƒ…å†µï¼š</p>
      <div class="formula">
        â‘  X > Yï¼ˆä¸ç®¡ç¬¬101æšï¼‰<br>
        â‘¡ X = Y ä¸”ç¬¬101æšæ˜¯æ­£é¢
      </div>
      
      <p><strong>ç¬¬å››æ­¥ï¼šè®¡ç®—</strong></p>
      <div class="formula">
        P(X>Y) + P(X<Y) + P(X=Y) = 1<br>
        â†’ 2p + P(X=Y) = 1<br>
        â†’ p = (1 - P(X=Y)) / 2
      </div>
      <div class="formula">
        P(ç”²èµ¢) = p + P(X=Y) Ã— 0.5<br>
        = (1 - P(X=Y))/2 + P(X=Y)/2<br>
        = <strong>1/2</strong>
      </div>
      
      <p style="color: #ffd700; margin-top: 15px;">âœ¨ æ— è®º P(X=Y) æ˜¯å¤šå°‘ï¼Œæœ€ç»ˆç­”æ¡ˆéƒ½æ˜¯ 1/2ï¼Œè¿™å°±æ˜¯å¯¹ç§°æ€§çš„é­”åŠ›ï¼</p>
    </div>
  </div>

  <script>
    let totalRounds = 0;
    let jiaWins = 0;
    
    const JIA_COINS = 101;
    const YI_COINS = 100;
    
    function flipCoins(count) {
      let heads = 0;
      const results = [];
      for (let i = 0; i < count; i++) {
        const isHead = Math.random() < 0.5;
        if (isHead) heads++;
        results.push(isHead);
      }
      return { heads, results };
    }
    
    function renderCoins(container, results, maxShow = 50) {
      container.innerHTML = '';
      const toShow = results.slice(0, maxShow);
      toShow.forEach(isHead => {
        const coin = document.createElement('div');
        coin.className = `coin ${isHead ? 'heads' : 'tails'}`;
        coin.textContent = isHead ? 'æ­£' : 'å';
        container.appendChild(coin);
      });
      if (results.length > maxShow) {
        const more = document.createElement('span');
        more.style.cssText = 'color: rgba(255,255,255,0.5); font-size: 12px; margin-left: 5px;';
        more.textContent = `+${results.length - maxShow}`;
        container.appendChild(more);
      }
    }
    
    function updateStats() {
      document.getElementById('totalRounds').textContent = totalRounds;
      document.getElementById('jiaWins').textContent = jiaWins;
      
      if (totalRounds > 0) {
        const prob = (jiaWins / totalRounds * 100).toFixed(2);
        document.getElementById('jiaProbability').textContent = prob + '%';
        
        const jiaPercent = jiaWins / totalRounds * 100;
        const yiPercent = 100 - jiaPercent;
        document.getElementById('progressJia').style.width = jiaPercent + '%';
        document.getElementById('progressJia').textContent = jiaPercent > 10 ? `ç”²èµ¢ ${jiaPercent.toFixed(1)}%` : '';
        document.getElementById('progressYi').style.width = yiPercent + '%';
        document.getElementById('progressYi').textContent = yiPercent > 10 ? `ä¹™èµ¢ ${yiPercent.toFixed(1)}%` : '';
      }
    }
    
    function simulate(showCoins = true) {
      const jia = flipCoins(JIA_COINS);
      const yi = flipCoins(YI_COINS);
      
      totalRounds++;
      if (jia.heads > yi.heads) jiaWins++;
      
      if (showCoins) {
        document.getElementById('jiaHeads').textContent = jia.heads;
        document.getElementById('yiHeads').textContent = yi.heads;
        renderCoins(document.getElementById('jiaCoins'), jia.results);
        renderCoins(document.getElementById('yiCoins'), yi.results);
        
        const resultDisplay = document.getElementById('resultDisplay');
        if (jia.heads > yi.heads) {
          resultDisplay.innerHTML = '<span class="winner jia">ğŸ‰ ç”²èµ¢ï¼</span>';
        } else if (jia.heads < yi.heads) {
          resultDisplay.innerHTML = '<span class="winner yi">ä¹™èµ¢</span>';
        } else {
          resultDisplay.innerHTML = '<span class="winner tie">å¹³å±€</span>';
        }
      }
      
      updateStats();
    }
    
    function simulateMany(count) {
      // å…ˆè·‘ count-1 æ¬¡ä¸æ˜¾ç¤º
      for (let i = 0; i < count - 1; i++) {
        simulate(false);
      }
      // æœ€åä¸€æ¬¡æ˜¾ç¤ºç»“æœ
      simulate(true);
    }
    
    document.getElementById('flipOnce').onclick = () => simulate(true);
    document.getElementById('flip100').onclick = () => simulateMany(100);
    document.getElementById('flip1000').onclick = () => simulateMany(1000);
    document.getElementById('flip10000').onclick = () => simulateMany(10000);
    document.getElementById('resetBtn').onclick = () => {
      totalRounds = 0;
      jiaWins = 0;
      document.getElementById('jiaHeads').textContent = '0';
      document.getElementById('yiHeads').textContent = '0';
      document.getElementById('jiaCoins').innerHTML = '';
      document.getElementById('yiCoins').innerHTML = '';
      document.getElementById('resultDisplay').innerHTML = '<span class="winner">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹æ¨¡æ‹Ÿ</span>';
      document.getElementById('progressJia').style.width = '50%';
      document.getElementById('progressJia').textContent = 'ç”²èµ¢ 50%';
      document.getElementById('progressYi').style.width = '50%';
      document.getElementById('progressYi').textContent = 'ä¹™èµ¢ 50%';
      updateStats();
      document.getElementById('jiaProbability').textContent = '-';
    };
  </script>
</body>
</html>
