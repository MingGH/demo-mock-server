<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŒ‡æ•°å¢é•¿æœ‰å¤šææ€– - æŠ˜çº¸åˆ°æœˆçƒ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../components/header.js" defer></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    .container { max-width: 1000px; margin: 0 auto; }
    .back-link {
      display: inline-block;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
      background: linear-gradient(135deg, #ff6b6b, #ffd93d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      margin-bottom: 25px;
    }
    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    
    /* æŠ˜çº¸æ¨¡æ‹Ÿå™¨ */
    .fold-simulator {
      text-align: center;
      padding: 30px;
    }
    .fold-counter {
      font-size: 5rem;
      font-weight: bold;
      color: #ffd93d;
      text-shadow: 0 0 50px rgba(255,217,61,0.5);
      margin-bottom: 10px;
    }
    .fold-label {
      font-size: 1.2rem;
      color: rgba(255,255,255,0.6);
      margin-bottom: 20px;
    }
    .thickness-display {
      background: rgba(0,0,0,0.3);
      border-radius: 16px;
      padding: 25px;
      margin: 20px 0;
    }
    .thickness-value {
      font-size: 2.5rem;
      font-weight: bold;
      color: #4ade80;
      margin-bottom: 10px;
    }
    .thickness-compare {
      font-size: 1.1rem;
      color: rgba(255,255,255,0.8);
      line-height: 1.8;
    }
    .thickness-compare .highlight {
      color: #ff6b6b;
      font-weight: bold;
    }
    
    /* æŒ‰é’® */
    .btn-group {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .btn {
      padding: 15px 35px;
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn:hover { transform: translateY(-3px); }
    .btn:active { transform: scale(0.98); }
    .btn-fold {
      background: linear-gradient(135deg, #ffd93d, #f0c000);
      color: #333;
      font-size: 1.3rem;
      padding: 20px 50px;
    }
    .btn-fold:hover {
      box-shadow: 0 10px 40px rgba(255,217,61,0.4);
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .btn-auto {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: #000;
    }
    
    /* è¿›åº¦æ¡ */
    .progress-section {
      margin: 25px 0;
    }
    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 0.9rem;
      color: rgba(255,255,255,0.6);
    }
    .progress-bar {
      height: 30px;
      background: rgba(0,0,0,0.3);
      border-radius: 15px;
      overflow: hidden;
      position: relative;
    }
    .progress-fill {
      height: 100%;
      border-radius: 15px;
      transition: width 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: bold;
    }
    .progress-fill.earth { background: linear-gradient(90deg, #4ade80, #22d3ee); color: #000; }
    .progress-fill.moon { background: linear-gradient(90deg, #ffd93d, #f59e0b); color: #000; }
    .progress-fill.sun { background: linear-gradient(90deg, #ff6b6b, #f43f5e); color: #fff; }
    
    /* é‡Œç¨‹ç¢‘ */
    .milestones {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin: 25px 0;
    }
    .milestone {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      border: 2px solid transparent;
      transition: all 0.3s;
    }
    .milestone.reached {
      border-color: #4ade80;
      background: rgba(74,222,128,0.1);
    }
    .milestone .icon { font-size: 2rem; margin-bottom: 8px; }
    .milestone .name { font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 5px; }
    .milestone .folds { font-size: 1.2rem; font-weight: bold; color: #ffd93d; }
    .milestone .distance { font-size: 0.75rem; color: rgba(255,255,255,0.5); }
    
    /* å¯è§†åŒ–å¯¹æ¯” */
    .visual-compare {
      margin: 25px 0;
    }
    .compare-row {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px;
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      margin-bottom: 10px;
    }
    .compare-icon { font-size: 2rem; width: 50px; text-align: center; }
    .compare-bar-container { flex: 1; }
    .compare-name { font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 5px; }
    .compare-bar {
      height: 20px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      overflow: hidden;
    }
    .compare-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #4ade80, #22d3ee);
      border-radius: 10px;
      transition: width 0.5s ease;
      min-width: 2px;
    }
    .compare-value {
      font-size: 0.9rem;
      font-weight: bold;
      color: #ffd93d;
      width: 120px;
      text-align: right;
    }
    
    /* å›¾è¡¨ */
    .chart-container {
      position: relative;
      height: 300px;
      margin: 20px 0;
    }
    
    /* æ•…äº‹å¡ç‰‡ */
    .story-card {
      background: linear-gradient(135deg, rgba(255,107,107,0.15), rgba(255,217,61,0.1));
      border-left: 4px solid #ff6b6b;
      border-radius: 0 12px 12px 0;
      padding: 20px;
      margin: 20px 0;
    }
    .story-card h4 {
      color: #ffd93d;
      margin-bottom: 10px;
    }
    .story-card p {
      color: rgba(255,255,255,0.85);
      line-height: 1.8;
    }
    
    /* æ•°æ®è¡¨æ ¼ */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 0.9rem;
    }
    .data-table th, .data-table td {
      padding: 12px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .data-table th {
      background: rgba(255,217,61,0.2);
      color: #ffd93d;
    }
    .data-table tr:hover { background: rgba(255,255,255,0.05); }
    .data-table .highlight { color: #ff6b6b; font-weight: bold; }
    
    /* åŠ¨ç”» */
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .pulse { animation: pulse 0.3s ease; }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    .shake { animation: shake 0.3s ease; }
    
    /* ç»“è®º */
    .conclusion {
      background: linear-gradient(135deg, rgba(255,107,107,0.15), rgba(255,217,61,0.1));
      border: 2px solid #ff6b6b;
      border-radius: 16px;
      padding: 25px;
      text-align: center;
    }
    .conclusion h3 { color: #ff6b6b; margin-bottom: 15px; }
    .conclusion p { color: rgba(255,255,255,0.9); line-height: 1.85; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1>ğŸ“„ æŒ‡æ•°å¢é•¿æœ‰å¤šææ€–</h1>
    <p class="subtitle">ä¸€å¼ çº¸å¯¹æŠ˜42æ¬¡ï¼Œåšåº¦è¶…è¿‡åœ°æœˆè·ç¦»</p>
    
    <!-- æŠ˜çº¸æ¨¡æ‹Ÿå™¨ -->
    <div class="card">
      <div class="fold-simulator">
        <div class="fold-counter" id="foldCount">0</div>
        <div class="fold-label">æ¬¡å¯¹æŠ˜</div>
        
        <div class="btn-group">
          <button class="btn btn-fold" onclick="fold()">ğŸ“„ å¯¹æŠ˜ä¸€æ¬¡</button>
        </div>
        <div class="btn-group">
          <button class="btn btn-auto" onclick="autoFold(10)">âš¡ å¿«é€ŸæŠ˜10æ¬¡</button>
          <button class="btn btn-auto" onclick="autoFold(42)">ğŸš€ ç›´æ¥æŠ˜åˆ°æœˆçƒ</button>
          <button class="btn btn-secondary" onclick="reset()">ğŸ”„ é‡ç½®</button>
        </div>
      </div>
      
      <!-- åšåº¦æ˜¾ç¤º -->
      <div class="thickness-display">
        <div class="thickness-value" id="thickness">0.1 æ¯«ç±³</div>
        <div class="thickness-compare" id="thicknessCompare">
          ä¸€å¼ æ™®é€šA4çº¸çš„åšåº¦çº¦ä¸º 0.1 æ¯«ç±³
        </div>
      </div>
      
      <!-- è¿›åº¦æ¡ -->
      <div class="progress-section">
        <div class="progress-label">
          <span>ğŸŒ åˆ°è¾¾åœ°çƒç›´å¾„ (12,742 km)</span>
          <span id="earthProgress">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill earth" id="earthBar" style="width: 0%"></div>
        </div>
      </div>
      
      <div class="progress-section">
        <div class="progress-label">
          <span>ğŸŒ™ åˆ°è¾¾æœˆçƒ (384,400 km)</span>
          <span id="moonProgress">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill moon" id="moonBar" style="width: 0%"></div>
        </div>
      </div>
      
      <div class="progress-section">
        <div class="progress-label">
          <span>â˜€ï¸ åˆ°è¾¾å¤ªé˜³ (1.5äº¿ km)</span>
          <span id="sunProgress">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill sun" id="sunBar" style="width: 0%"></div>
        </div>
      </div>
    </div>
    
    <!-- é‡Œç¨‹ç¢‘ -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ† é‡Œç¨‹ç¢‘</h2>
      <div class="milestones" id="milestones">
        <!-- åŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
    
    <!-- å¯è§†åŒ–å¯¹æ¯” -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ“Š åšåº¦å¯¹æ¯”ï¼ˆå¯¹æ•°åˆ»åº¦ï¼‰</h2>
      <div class="visual-compare" id="visualCompare">
        <!-- åŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
    
    <!-- å›¾è¡¨ -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ“ˆ å¢é•¿æ›²çº¿ï¼ˆçº¿æ€§åæ ‡ï¼‰</h2>
      <p style="color: rgba(255,255,255,0.6); margin-bottom: 15px;">
        è¿™æ‰æ˜¯æŒ‡æ•°å¢é•¿çš„çœŸå®é¢è²Œâ€”â€”å‰æœŸå‡ ä¹çœ‹ä¸è§ï¼ŒåæœŸç›´æ¥çˆ†ç‚¸
      </p>
      <div class="chart-container">
        <canvas id="linearChart"></canvas>
      </div>
    </div>
    
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ“Š å¢é•¿æ›²çº¿ï¼ˆå¯¹æ•°åæ ‡ï¼‰</h2>
      <p style="color: rgba(255,255,255,0.6); margin-bottom: 15px;">
        å¯¹æ•°åæ ‡ä¸‹æŒ‡æ•°å¢é•¿å˜æˆç›´çº¿ï¼Œæ–¹ä¾¿çœ‹æ¸…æ—©æœŸæ•°æ®
      </p>
      <div class="chart-container">
        <canvas id="logChart"></canvas>
      </div>
    </div>
    
    <!-- æ•°æ®è¡¨æ ¼ -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ“‹ æ¯æ¬¡å¯¹æŠ˜çš„åšåº¦</h2>
      <div style="overflow-x: auto;">
        <table class="data-table">
          <thead>
            <tr>
              <th>å¯¹æŠ˜æ¬¡æ•°</th>
              <th>åšåº¦</th>
              <th>ç›¸å½“äº</th>
            </tr>
          </thead>
          <tbody id="dataTable">
            <!-- åŠ¨æ€ç”Ÿæˆ -->
          </tbody>
        </table>
      </div>
    </div>

    
    <!-- ç»å…¸æ•…äº‹ -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ“– ç»å…¸æ•…äº‹ï¼šå›½ç‹ä¸æ£‹ç›˜</h2>
      
      <div class="story-card">
        <h4>ğŸ° å°åº¦å›½ç‹çš„èµèµ</h4>
        <p>
          ä¼ è¯´å›½é™…è±¡æ£‹çš„å‘æ˜è€…å‘å›½ç‹è¦èµèµï¼š<br>
          "è¯·åœ¨æ£‹ç›˜çš„ç¬¬ä¸€æ ¼æ”¾1ç²’ç±³ï¼Œç¬¬äºŒæ ¼æ”¾2ç²’ï¼Œç¬¬ä¸‰æ ¼æ”¾4ç²’â€¦â€¦æ¯æ ¼ç¿»å€ã€‚"<br><br>
          å›½ç‹è§‰å¾—è¿™è¦æ±‚å¤ªç®€å•äº†ï¼Œæ¬£ç„¶ç­”åº”ã€‚<br><br>
          ç»“æœå‘¢ï¼Ÿ<br>
          <span class="highlight">64æ ¼æ£‹ç›˜éœ€è¦çš„ç±³ç²’æ€»æ•°ï¼š18,446,744,073,709,551,615 ç²’</span><br>
          çº¦ç­‰äº <span class="highlight">4600äº¿å¨å¤§ç±³</span>ï¼Œæ˜¯å…¨çƒå¹´äº§é‡çš„ <span class="highlight">800å¤šå€</span>ã€‚
        </p>
      </div>
      
      <div class="story-card">
        <h4>ğŸ¦  ç—…æ¯’ä¼ æ’­</h4>
        <p>
          å‡è®¾ä¸€ä¸ªç—…æ¯’æ¯å¤©æ„ŸæŸ“äººæ•°ç¿»å€ï¼š<br>
          ç¬¬1å¤©ï¼š1äºº â†’ ç¬¬10å¤©ï¼š1,024äºº â†’ ç¬¬20å¤©ï¼š100ä¸‡äºº â†’ ç¬¬30å¤©ï¼š<span class="highlight">10äº¿äºº</span><br><br>
          è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç–«æƒ…åˆæœŸçš„é˜²æ§å¦‚æ­¤é‡è¦â€”â€”<br>
          <span class="highlight">æŒ‡æ•°å¢é•¿çš„æ—©æœŸçœ‹èµ·æ¥å¾ˆæ…¢ï¼Œä½†ä¸€æ—¦èµ·åŠ¿å°±æ— æ³•æ§åˆ¶ã€‚</span>
        </p>
      </div>
      
      <div class="story-card">
        <h4>ğŸ’° å¤åˆ©çš„å¨åŠ›</h4>
        <p>
          1ä¸‡å…ƒï¼Œå¹´åŒ–10%ï¼Œä¸å–å‡ºï¼š<br>
          10å¹´åï¼š2.6ä¸‡ â†’ 20å¹´åï¼š6.7ä¸‡ â†’ 30å¹´åï¼š17.4ä¸‡ â†’ 50å¹´åï¼š<span class="highlight">117ä¸‡</span><br><br>
          çˆ±å› æ–¯å¦è¯´ï¼š"å¤åˆ©æ˜¯ä¸–ç•Œç¬¬å…«å¤§å¥‡è¿¹ã€‚"<br>
          <span class="highlight">ç†è§£å¤åˆ©çš„äººèµšå–å®ƒï¼Œä¸ç†è§£çš„äººæ”¯ä»˜å®ƒã€‚</span>
        </p>
      </div>
    </div>
    
    <!-- ä¸ºä»€ä¹ˆéš¾ä»¥ç†è§£ -->
    <div class="card">
      <h2 style="color: #ffd93d; margin-bottom: 20px;">ğŸ§  ä¸ºä»€ä¹ˆäººç±»éš¾ä»¥ç†è§£æŒ‡æ•°å¢é•¿ï¼Ÿ</h2>
      
      <p style="color: rgba(255,255,255,0.85); line-height: 1.85; margin-bottom: 15px;">
        <strong style="color: #4ade80;">1. æˆ‘ä»¬çš„å¤§è„‘æ˜¯ä¸ºçº¿æ€§æ€ç»´è®¾è®¡çš„</strong><br>
        åŸå§‹äººéœ€è¦åˆ¤æ–­"çŒç‰©è¿˜æœ‰å¤šè¿œ"ã€"é£Ÿç‰©å¤Ÿåƒå‡ å¤©"ï¼Œè¿™äº›éƒ½æ˜¯çº¿æ€§é—®é¢˜ã€‚<br>
        æŒ‡æ•°å¢é•¿åœ¨è‡ªç„¶ç•Œå¾ˆå°‘è§ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰è¿›åŒ–å‡ºç†è§£å®ƒçš„ç›´è§‰ã€‚
      </p>
      
      <p style="color: rgba(255,255,255,0.85); line-height: 1.85; margin-bottom: 15px;">
        <strong style="color: #4ade80;">2. æ—©æœŸå¢é•¿å¤ªæ…¢ï¼Œå®¹æ˜“è¢«å¿½è§†</strong><br>
        æŠ˜çº¸10æ¬¡æ‰1024å±‚ï¼ˆçº¦10å˜ç±³ï¼‰ï¼Œçœ‹èµ·æ¥æ²¡ä»€ä¹ˆã€‚<br>
        ä½†ä»ç¬¬40æ¬¡åˆ°ç¬¬42æ¬¡ï¼Œåšåº¦ä»11ä¸‡å…¬é‡Œæš´å¢åˆ°44ä¸‡å…¬é‡Œâ€”â€”å¢åŠ äº†33ä¸‡å…¬é‡Œï¼
      </p>
      
      <p style="color: rgba(255,255,255,0.85); line-height: 1.85;">
        <strong style="color: #4ade80;">3. æ•°å­—å¤ªå¤§ï¼Œå¤±å»æ„ä¹‰</strong><br>
        2^64 = 18,446,744,073,709,551,616<br>
        è¿™ä¸ªæ•°å­—ä½ èƒ½æ„Ÿå—åˆ°å®ƒæœ‰å¤šå¤§å—ï¼Ÿä¸èƒ½ã€‚<br>
        <span style="color: #ff6b6b;">æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç±»æ¯”ï¼šå®ƒç­‰äºå…¨çƒ800å¹´çš„å¤§ç±³äº§é‡ã€‚</span>
      </p>
    </div>
    
    <!-- ç»“è®º -->
    <div class="card conclusion">
      <h3>ğŸ’¡ æŒ‡æ•°å¢é•¿çš„ææ€–ä¹‹å¤„</h3>
      <p>
        ä¸æ˜¯å®ƒæœ€ç»ˆæœ‰å¤šå¤§ï¼Œè€Œæ˜¯<strong style="color: #ffd93d;">å®ƒæ¥å¾—æœ‰å¤šå¿«</strong>ã€‚<br><br>
        å½“ä½ æ„è¯†åˆ°é—®é¢˜ä¸¥é‡æ—¶ï¼Œå¾€å¾€å·²ç»æ¥ä¸åŠäº†ã€‚<br><br>
        æŠ˜çº¸41æ¬¡æ‰åˆ°æœˆçƒä¸€åŠï¼Œä½†å†æŠ˜1æ¬¡å°±è¶…è¿‡äº†ã€‚<br>
        ç—…æ¯’æ„ŸæŸ“100ä¸‡äººæ—¶ï¼Œç¦»10äº¿åªå·®10å¤©ã€‚<br>
        å€ºåŠ¡æ»šåˆ°ä½ è¿˜ä¸èµ·æ—¶ï¼Œå¯èƒ½åªæ˜¯å‡ å¹´çš„äº‹ã€‚<br><br>
        <span style="color: rgba(255,255,255,0.6);">
          ç†è§£æŒ‡æ•°å¢é•¿ï¼Œæ˜¯ç°ä»£äººæœ€é‡è¦çš„æ•°å­¦ç›´è§‰ä¹‹ä¸€ã€‚
        </span>
      </p>
    </div>
  </div>


  <script>
    // å¸¸é‡
    const PAPER_THICKNESS = 0.1; // æ¯«ç±³
    const EARTH_DIAMETER = 12742 * 1000 * 1000; // æ¯«ç±³
    const MOON_DISTANCE = 384400 * 1000 * 1000; // æ¯«ç±³
    const SUN_DISTANCE = 150000000 * 1000 * 1000; // æ¯«ç±³
    
    // é‡Œç¨‹ç¢‘æ•°æ®
    const milestones = [
      { name: 'ä¸€æœ¬ä¹¦', icon: 'ğŸ“š', folds: 10, distance: '10 å˜ç±³' },
      { name: 'ä¸€ä¸ªäººé«˜', icon: 'ğŸ§', folds: 14, distance: '1.6 ç±³' },
      { name: 'åŸƒè²å°”é“å¡”', icon: 'ğŸ—¼', folds: 18, distance: '330 ç±³' },
      { name: 'ç ç©†æœ—ç›å³°', icon: 'ğŸ”ï¸', folds: 23, distance: '8.8 å…¬é‡Œ' },
      { name: 'é£æœºå·¡èˆªé«˜åº¦', icon: 'âœˆï¸', folds: 20, distance: '10 å…¬é‡Œ' },
      { name: 'å›½é™…ç©ºé—´ç«™', icon: 'ğŸ›¸', folds: 27, distance: '400 å…¬é‡Œ' },
      { name: 'åœ°çƒç›´å¾„', icon: 'ğŸŒ', folds: 37, distance: '1.27ä¸‡å…¬é‡Œ' },
      { name: 'åœ°æœˆè·ç¦»', icon: 'ğŸŒ™', folds: 42, distance: '38.4ä¸‡å…¬é‡Œ' },
      { name: 'åœ°æ—¥è·ç¦»', icon: 'â˜€ï¸', folds: 51, distance: '1.5äº¿å…¬é‡Œ' },
    ];
    
    // å¯¹æ¯”æ•°æ®
    const comparisons = [
      { name: 'ä¸€å¼ çº¸', icon: 'ğŸ“„', mm: 0.1 },
      { name: 'ä¿¡ç”¨å¡', icon: 'ğŸ’³', mm: 0.76 },
      { name: 'æ‰‹æœºåšåº¦', icon: 'ğŸ“±', mm: 8 },
      { name: 'ä¸€æœ¬ä¹¦', icon: 'ğŸ“š', mm: 20 },
      { name: 'ä¸€ä¸ªäººé«˜', icon: 'ğŸ§', mm: 1700 },
      { name: 'è¶³çƒåœºé•¿', icon: 'âš½', mm: 105000 },
      { name: 'ç å³°é«˜åº¦', icon: 'ğŸ”ï¸', mm: 8848000 },
      { name: 'åœ°çƒç›´å¾„', icon: 'ğŸŒ', mm: EARTH_DIAMETER },
      { name: 'åœ°æœˆè·ç¦»', icon: 'ğŸŒ™', mm: MOON_DISTANCE },
    ];
    
    let foldCount = 0;
    let linearChart = null;
    let logChart = null;
    
    function getThickness(folds) {
      return PAPER_THICKNESS * Math.pow(2, folds);
    }
    
    function formatDistance(mm) {
      if (mm < 1) return mm.toFixed(2) + ' æ¯«ç±³';
      if (mm < 10) return mm.toFixed(1) + ' æ¯«ç±³';
      if (mm < 1000) return Math.round(mm) + ' æ¯«ç±³';
      if (mm < 100000) return (mm / 10).toFixed(1) + ' å˜ç±³';
      if (mm < 1000000) return (mm / 1000).toFixed(2) + ' ç±³';
      if (mm < 1000000000) return (mm / 1000000).toFixed(2) + ' å…¬é‡Œ';
      if (mm < 1000000000000) return (mm / 1000000000).toFixed(0) + ' åƒå…¬é‡Œ';
      return (mm / 1000000000000).toFixed(2) + ' ç™¾ä¸‡å…¬é‡Œ';
    }
    
    function getComparison(mm) {
      if (mm < 1) return 'æ¯”å¤´å‘ä¸è¿˜ç»†';
      if (mm < 10) return 'çº¦ç­‰äº ' + (mm / 0.1).toFixed(0) + ' å¼ çº¸å åœ¨ä¸€èµ·';
      if (mm < 100) return 'çº¦ç­‰äºä¸€æšç¡¬å¸çš„åšåº¦';
      if (mm < 1000) return 'çº¦ç­‰äºä¸€æœ¬ä¹¦çš„åšåº¦';
      if (mm < 10000) return 'çº¦ç­‰äºä¸€å¼ æ¡Œå­çš„é«˜åº¦';
      if (mm < 100000) return 'çº¦ç­‰äºä¸€æ ‹æ¥¼çš„é«˜åº¦';
      if (mm < 1000000) return 'çº¦ç­‰äºå‡ ä¸ªè¶³çƒåœºçš„é•¿åº¦';
      if (mm < 10000000) return 'å¯ä»¥è¦†ç›–ä¸€åº§åŸå¸‚';
      if (mm < 100000000) return 'è¶…è¿‡äº†ç ç©†æœ—ç›å³°çš„é«˜åº¦';
      if (mm < EARTH_DIAMETER) return 'å¯ä»¥ç»•åœ°çƒ ' + (mm / (40075 * 1000000)).toFixed(1) + ' åœˆ';
      if (mm < MOON_DISTANCE) return 'å·²ç»è¶…è¿‡åœ°çƒç›´å¾„ï¼æ­£åœ¨é£å‘æœˆçƒ...';
      if (mm < SUN_DISTANCE) return 'ğŸ‰ å·²ç»è¶…è¿‡åœ°æœˆè·ç¦»ï¼æ­£åœ¨é£å‘å¤ªé˜³...';
      return 'ğŸš€ å·²ç»è¶…è¿‡åœ°æ—¥è·ç¦»ï¼é£å‘å®‡å®™æ·±å¤„...';
    }
    
    function updateDisplay() {
      const thickness = getThickness(foldCount);
      
      // æ›´æ–°è®¡æ•°å™¨
      const counter = document.getElementById('foldCount');
      counter.textContent = foldCount;
      counter.classList.add('pulse');
      setTimeout(() => counter.classList.remove('pulse'), 300);
      
      // æ›´æ–°åšåº¦
      document.getElementById('thickness').textContent = formatDistance(thickness);
      document.getElementById('thicknessCompare').innerHTML = getComparison(thickness);
      
      // æ›´æ–°è¿›åº¦æ¡
      const earthPercent = Math.min(100, (thickness / EARTH_DIAMETER) * 100);
      const moonPercent = Math.min(100, (thickness / MOON_DISTANCE) * 100);
      const sunPercent = Math.min(100, (thickness / SUN_DISTANCE) * 100);
      
      document.getElementById('earthBar').style.width = earthPercent + '%';
      document.getElementById('earthProgress').textContent = earthPercent.toFixed(earthPercent < 1 ? 4 : 1) + '%';
      
      document.getElementById('moonBar').style.width = moonPercent + '%';
      document.getElementById('moonProgress').textContent = moonPercent.toFixed(moonPercent < 1 ? 4 : 1) + '%';
      
      document.getElementById('sunBar').style.width = sunPercent + '%';
      document.getElementById('sunProgress').textContent = sunPercent.toFixed(sunPercent < 1 ? 6 : 1) + '%';
      
      // æ›´æ–°é‡Œç¨‹ç¢‘
      renderMilestones();
      
      // æ›´æ–°å¯¹æ¯”
      renderComparisons(thickness);
      
      // æ›´æ–°å›¾è¡¨
      updateChart();
    }
    
    function renderMilestones() {
      const container = document.getElementById('milestones');
      container.innerHTML = milestones.map(m => `
        <div class="milestone ${foldCount >= m.folds ? 'reached' : ''}">
          <div class="icon">${m.icon}</div>
          <div class="name">${m.name}</div>
          <div class="folds">${m.folds} æ¬¡</div>
          <div class="distance">${m.distance}</div>
        </div>
      `).join('');
    }
    
    function renderComparisons(currentThickness) {
      const container = document.getElementById('visualCompare');
      const maxLog = Math.log10(Math.max(currentThickness, MOON_DISTANCE));
      
      container.innerHTML = comparisons.map(c => {
        const logValue = Math.log10(c.mm);
        const percent = (logValue / maxLog) * 100;
        const isCurrent = currentThickness >= c.mm * 0.5 && currentThickness < c.mm * 5;
        
        return `
          <div class="compare-row" style="${isCurrent ? 'background: rgba(74,222,128,0.2);' : ''}">
            <div class="compare-icon">${c.icon}</div>
            <div class="compare-bar-container">
              <div class="compare-name">${c.name}</div>
              <div class="compare-bar">
                <div class="compare-bar-fill" style="width: ${percent}%"></div>
              </div>
            </div>
            <div class="compare-value">${formatDistance(c.mm)}</div>
          </div>
        `;
      }).join('');
      
      // æ·»åŠ å½“å‰åšåº¦
      if (currentThickness > 0.1) {
        const logValue = Math.log10(currentThickness);
        const percent = (logValue / maxLog) * 100;
        container.innerHTML += `
          <div class="compare-row" style="background: rgba(255,217,61,0.2); border: 2px solid #ffd93d;">
            <div class="compare-icon">ğŸ“„</div>
            <div class="compare-bar-container">
              <div class="compare-name" style="color: #ffd93d;">å½“å‰çº¸å¼ åšåº¦ (${foldCount}æ¬¡å¯¹æŠ˜)</div>
              <div class="compare-bar">
                <div class="compare-bar-fill" style="width: ${percent}%; background: linear-gradient(90deg, #ffd93d, #f59e0b);"></div>
              </div>
            </div>
            <div class="compare-value" style="color: #ffd93d;">${formatDistance(currentThickness)}</div>
          </div>
        `;
      }
    }
    
    function updateChart() {
      const labels = [];
      const data = [];
      const maxFolds = Math.max(foldCount, 20);
      
      for (let i = 0; i <= maxFolds; i++) {
        labels.push(i);
        data.push(getThickness(i) / 1000000); // è½¬æ¢ä¸ºç±³
      }
      
      // çº¿æ€§åæ ‡å›¾è¡¨ - å±•ç¤ºçœŸæ­£çš„æŒ‡æ•°çˆ†ç‚¸
      const ctxLinear = document.getElementById('linearChart').getContext('2d');
      if (linearChart) linearChart.destroy();
      
      linearChart = new Chart(ctxLinear, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'åšåº¦ï¼ˆç±³ï¼‰',
            data: data,
            borderColor: '#ff6b6b',
            backgroundColor: 'rgba(255, 107, 107, 0.2)',
            fill: true,
            tension: 0.1,
            pointRadius: (ctx) => ctx.dataIndex === foldCount ? 8 : 2,
            pointBackgroundColor: (ctx) => ctx.dataIndex === foldCount ? '#ffd93d' : '#ff6b6b',
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              title: { display: true, text: 'å¯¹æŠ˜æ¬¡æ•°', color: 'rgba(255,255,255,0.6)' },
              ticks: { color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' }
            },
            y: {
              title: { display: true, text: 'åšåº¦ï¼ˆç±³ï¼‰', color: 'rgba(255,255,255,0.6)' },
              ticks: { 
                color: 'rgba(255,255,255,0.5)',
                callback: function(value) {
                  if (value >= 1000000000) return (value / 1000000000).toFixed(0) + 'ç™¾ä¸‡km';
                  if (value >= 1000000) return (value / 1000000).toFixed(0) + 'åƒkm';
                  if (value >= 1000) return (value / 1000).toFixed(0) + 'km';
                  return value.toFixed(0) + 'm';
                }
              },
              grid: { color: 'rgba(255,255,255,0.05)' }
            }
          },
          plugins: {
            legend: { labels: { color: 'rgba(255,255,255,0.8)' } }
          }
        }
      });
      
      // å¯¹æ•°åæ ‡å›¾è¡¨
      const ctxLog = document.getElementById('logChart').getContext('2d');
      if (logChart) logChart.destroy();
      
      logChart = new Chart(ctxLog, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'åšåº¦ï¼ˆç±³ï¼Œå¯¹æ•°åˆ»åº¦ï¼‰',
            data: data,
            borderColor: '#4ade80',
            backgroundColor: 'rgba(74, 222, 128, 0.1)',
            fill: true,
            tension: 0.1,
            pointRadius: (ctx) => ctx.dataIndex === foldCount ? 8 : 2,
            pointBackgroundColor: (ctx) => ctx.dataIndex === foldCount ? '#ffd93d' : '#4ade80',
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              title: { display: true, text: 'å¯¹æŠ˜æ¬¡æ•°', color: 'rgba(255,255,255,0.6)' },
              ticks: { color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' }
            },
            y: {
              type: 'logarithmic',
              title: { display: true, text: 'åšåº¦ï¼ˆç±³ï¼Œå¯¹æ•°åˆ»åº¦ï¼‰', color: 'rgba(255,255,255,0.6)' },
              ticks: { color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' }
            }
          },
          plugins: {
            legend: { labels: { color: 'rgba(255,255,255,0.8)' } }
          }
        }
      });
    }
    
    function renderDataTable() {
      const tbody = document.getElementById('dataTable');
      const keyFolds = [0, 1, 2, 3, 5, 10, 15, 20, 25, 30, 35, 40, 42, 45, 50, 51];
      
      tbody.innerHTML = keyFolds.map(f => {
        const thickness = getThickness(f);
        let compare = '';
        if (f === 0) compare = 'ä¸€å¼ çº¸';
        else if (f === 10) compare = 'çº¦10å˜ç±³ï¼ˆä¸€æœ¬ä¹¦ï¼‰';
        else if (f === 20) compare = 'çº¦100ç±³ï¼ˆ30å±‚æ¥¼ï¼‰';
        else if (f === 30) compare = 'çº¦100å…¬é‡Œï¼ˆå¤§æ°”å±‚è¾¹ç¼˜ï¼‰';
        else if (f === 37) compare = 'è¶…è¿‡åœ°çƒç›´å¾„';
        else if (f === 42) compare = '<span class="highlight">è¶…è¿‡åœ°æœˆè·ç¦»ï¼</span>';
        else if (f === 51) compare = '<span class="highlight">è¶…è¿‡åœ°æ—¥è·ç¦»ï¼</span>';
        else compare = formatDistance(thickness);
        
        return `
          <tr>
            <td>${f}</td>
            <td>${formatDistance(thickness)}</td>
            <td>${compare}</td>
          </tr>
        `;
      }).join('');
    }
    
    function fold() {
      if (foldCount >= 100) return; // é˜²æ­¢æ•°å­—æº¢å‡º
      foldCount++;
      updateDisplay();
    }
    
    function autoFold(target) {
      const targetFolds = Math.min(target, 100);
      const interval = setInterval(() => {
        if (foldCount >= targetFolds) {
          clearInterval(interval);
          return;
        }
        fold();
      }, 100);
    }
    
    function reset() {
      foldCount = 0;
      updateDisplay();
    }
    
    // åˆå§‹åŒ–
    updateDisplay();
    renderDataTable();
  </script>
</body>
</html>