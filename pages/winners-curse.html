<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>èµ¢å®¶è¯…å’’ - ä¸ºä»€ä¹ˆèµ¢äº†ç«æ‹åè€Œäºé’±</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../components/header.js" defer></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .back-link {
      display: inline-block;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    .back-link:hover { text-decoration: underline; }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
      background: linear-gradient(135deg, #ffd700, #ff6b6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      margin-bottom: 25px;
      font-size: 0.95rem;
    }
    .card {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .question-box {
      background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,107,107,0.1));
      border-left: 4px solid #ffd700;
      padding: 15px 20px;
      border-radius: 0 12px 12px 0;
      margin-bottom: 20px;
      font-size: 1.05rem;
      line-height: 1.8;
    }
    .question-box strong { color: #ffd700; }
    
    /* æ‹å–åŒºåŸŸ */
    .auction-area {
      text-align: center;
      padding: 20px 0;
    }
    .mystery-item {
      font-size: 100px;
      margin: 20px 0;
      filter: drop-shadow(0 0 30px rgba(255,215,0,0.5));
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .item-hint {
      color: rgba(255,255,255,0.6);
      font-size: 0.95rem;
      margin-bottom: 20px;
    }
    
    /* å‡ºä»·åŒº */
    .bid-section {
      background: rgba(0,0,0,0.3);
      border-radius: 16px;
      padding: 25px;
      margin: 20px 0;
    }
    .bid-row {
      display: flex;
      gap: 15px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    .bid-input-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .bid-input-group label {
      color: rgba(255,255,255,0.7);
      font-size: 0.95rem;
    }
    .bid-input {
      width: 150px;
      padding: 12px 15px;
      border: 2px solid rgba(255,215,0,0.3);
      border-radius: 10px;
      background: rgba(0,0,0,0.3);
      color: #ffd700;
      font-size: 1.2rem;
      font-weight: bold;
      text-align: center;
    }
    .bid-input:focus {
      outline: none;
      border-color: #ffd700;
      box-shadow: 0 0 20px rgba(255,215,0,0.3);
    }
    .bid-btn {
      padding: 15px 40px;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      background: linear-gradient(135deg, #ffd700, #f0c000);
      color: #1a1a2e;
    }
    .bid-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(255,215,0,0.4);
    }
    .bid-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    /* ç»“æœå±•ç¤º */
    .result-panel {
      display: none;
      margin-top: 25px;
    }
    .result-panel.show { display: block; }
    .result-header {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 12px;
    }
    .result-header.win {
      background: linear-gradient(135deg, rgba(74,222,128,0.2), rgba(34,197,94,0.1));
      color: #4ade80;
    }
    .result-header.lose {
      background: linear-gradient(135deg, rgba(255,107,107,0.2), rgba(239,68,68,0.1));
      color: #ff6b6b;
    }
    .result-header.not-win {
      background: rgba(255,255,255,0.1);
      color: rgba(255,255,255,0.7);
    }
    
    .result-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    @media (max-width: 600px) {
      .result-grid { grid-template-columns: 1fr; }
    }
    .result-card {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    .result-card h4 {
      color: rgba(255,255,255,0.6);
      font-size: 0.85rem;
      margin-bottom: 10px;
    }
    .result-card .value {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .result-card .value.gold { color: #ffd700; }
    .result-card .value.green { color: #4ade80; }
    .result-card .value.red { color: #ff6b6b; }
    
    /* ç«æ‹è€…åˆ—è¡¨ */
    .bidders-section {
      margin-top: 20px;
    }
    .bidders-section h4 {
      color: rgba(255,255,255,0.6);
      font-size: 0.9rem;
      margin-bottom: 15px;
    }
    .bidders-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 10px;
    }
    .bidder-card {
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      padding: 12px;
      text-align: center;
      border: 2px solid transparent;
      transition: all 0.3s;
    }
    .bidder-card.winner {
      border-color: #ffd700;
      background: rgba(255,215,0,0.1);
    }
    .bidder-card.you {
      border-color: #4ade80;
    }
    .bidder-card .name {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.6);
      margin-bottom: 5px;
    }
    .bidder-card .bid {
      font-size: 1.2rem;
      font-weight: bold;
      color: #ffd700;
    }
    .bidder-card .estimate {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.4);
      margin-top: 3px;
    }
    
    /* ç»Ÿè®¡åŒº */
    .stats-section {
      margin-top: 25px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }
    @media (max-width: 700px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    .stat-box {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 18px;
      text-align: center;
    }
    .stat-box .value {
      font-size: 1.6rem;
      font-weight: bold;
      color: #ffd700;
    }
    .stat-box .label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.5);
      margin-top: 5px;
    }
    
    /* å›¾è¡¨ */
    .chart-container {
      position: relative;
      height: 250px;
      margin: 20px 0;
    }
    
    /* æ§åˆ¶æŒ‰é’® */
    .controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .btn-secondary:hover { background: rgba(255,255,255,0.2); }
    .btn-primary {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: #000;
    }
    .btn-primary:hover { transform: translateY(-2px); }
    
    /* åˆ†æåŒº */
    .analysis {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 22px;
      margin-top: 20px;
    }
    .analysis h3 {
      color: #ffd700;
      margin-bottom: 15px;
      font-size: 1.1rem;
    }
    .analysis p {
      color: rgba(255,255,255,0.85);
      line-height: 1.85;
      margin-bottom: 14px;
    }
    .analysis .formula {
      background: rgba(255,255,255,0.08);
      padding: 12px 16px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 14px 0;
      overflow-x: auto;
    }
    .analysis .highlight { color: #ff6b6b; font-weight: bold; }
    .analysis .safe { color: #4ade80; font-weight: bold; }
    
    /* æ¡ˆä¾‹å¡ç‰‡ */
    .cases {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    @media (max-width: 550px) {
      .cases { grid-template-columns: 1fr; }
    }
    .case-card {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 18px;
      border-left: 3px solid #ffd700;
    }
    .case-card h4 {
      color: #ffd700;
      font-size: 0.95rem;
      margin-bottom: 10px;
    }
    .case-card p {
      color: rgba(255,255,255,0.7);
      font-size: 0.9rem;
      line-height: 1.6;
    }
    
    /* ç»“è®º */
    .conclusion {
      background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,107,107,0.1));
      border: 2px solid #ffd700;
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      margin-top: 20px;
    }
    .conclusion h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #ff6b6b;
    }
    .conclusion p {
      color: rgba(255,255,255,0.9);
      line-height: 1.85;
    }
    
    /* å†å²è®°å½• */
    .history-section {
      margin-top: 20px;
    }
    .history-section h4 {
      color: rgba(255,255,255,0.6);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }
    .history-list {
      max-height: 200px;
      overflow-y: auto;
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 10px;
    }
    .history-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 0.9rem;
    }
    .history-item:last-child { border-bottom: none; }
    .history-item.win { color: #4ade80; }
    .history-item.lose { color: #ff6b6b; }
    .history-item.not-win { color: rgba(255,255,255,0.5); }
    
    /* æ‰¹é‡æ¨¡æ‹Ÿ */
    .batch-results {
      display: none;
      margin-top: 20px;
    }
    .batch-results.show { display: block; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1>ğŸ† èµ¢å®¶è¯…å’’</h1>
    <p class="subtitle">ä¸ºä»€ä¹ˆèµ¢äº†ç«æ‹åè€Œäºé’±ï¼Ÿ</p>
    
    <div class="card">
      <div class="question-box">
        <strong>èµ¢å®¶è¯…å’’ï¼ˆWinner's Curseï¼‰ï¼š</strong><br>
        åœ¨ç«æ‹ä¸­ï¼Œèµ¢å®¶å¾€å¾€æ˜¯å¯¹ç‰©å“ä¼°ä»·<strong>æœ€é«˜</strong>çš„äººã€‚<br>
        ä½†"ä¼°ä»·æœ€é«˜"é€šå¸¸æ„å‘³ç€<strong>é«˜ä¼°äº†çœŸå®ä»·å€¼</strong>ã€‚<br>
        æ‰€ä»¥èµ¢å®¶è™½ç„¶èµ¢å¾—äº†æ‹å–ï¼Œå´å¾€å¾€<strong>ä»˜å‡ºäº†è¶…è¿‡å®é™…ä»·å€¼çš„ä»·æ ¼</strong>ã€‚<br><br>
        <span style="color: rgba(255,255,255,0.6);">æ¥äº²è‡ªä½“éªŒä¸€ä¸‹è¿™ä¸ªè¯…å’’å§ ğŸ‘‡</span>
      </div>
      
      <div class="auction-area">
        <div class="mystery-item" id="mysteryItem">ğŸ“¦</div>
        <div class="item-hint">
          ç¥ç§˜ç‰©å“ Â· çœŸå®ä»·å€¼åœ¨ <strong>500~1500å…ƒ</strong> ä¹‹é—´
        </div>
        
        <div class="bid-section">
          <div class="bid-row">
            <div class="bid-input-group">
              <label>ä½ çš„å‡ºä»·ï¼š</label>
              <input type="number" class="bid-input" id="userBid" placeholder="è¾“å…¥é‡‘é¢" min="0" max="3000">
              <span style="color: rgba(255,255,255,0.5);">å…ƒ</span>
            </div>
            <button class="bid-btn" id="bidBtn" onclick="submitBid()">ğŸ”¨ å‡ºä»·ç«æ‹</button>
          </div>
          <p style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">
            æç¤ºï¼šä½ å°†ä¸ 9 ä½å…¶ä»–ç«æ‹è€…ç«äº‰ï¼Œå‡ºä»·æœ€é«˜è€…è·å¾—ç‰©å“
          </p>
        </div>
        
        <div class="result-panel" id="resultPanel">
          <div class="result-header" id="resultHeader"></div>
          
          <div class="result-grid">
            <div class="result-card">
              <h4>ğŸ“¦ çœŸå®ä»·å€¼</h4>
              <div class="value gold" id="trueValue">-</div>
            </div>
            <div class="result-card">
              <h4>ğŸ† ä¸­æ ‡ä»·æ ¼</h4>
              <div class="value" id="winningBid">-</div>
            </div>
            <div class="result-card">
              <h4>ğŸ’° æœ¬è½®ç›ˆäº</h4>
              <div class="value" id="roundProfit">-</div>
            </div>
          </div>
          
          <div class="bidders-section">
            <h4>ğŸ‘¥ æ‰€æœ‰ç«æ‹è€…å‡ºä»·</h4>
            <div class="bidders-list" id="biddersList"></div>
          </div>
        </div>
        
        <div class="controls">
          <button class="btn btn-secondary" onclick="nextRound()">ğŸ”„ ä¸‹ä¸€è½®</button>
          <button class="btn btn-secondary" onclick="autoPlay(10)">âš¡ è‡ªåŠ¨10è½®</button>
          <button class="btn btn-secondary" onclick="resetAll()">ğŸ—‘ï¸ é‡ç½®ç»Ÿè®¡</button>
        </div>
      </div>
      
      <!-- ç»Ÿè®¡åŒº -->
      <div class="stats-section">
        <h3 style="color: #ffd700; margin-bottom: 15px;">ğŸ“Š ä½ çš„ç«æ‹ç»Ÿè®¡</h3>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="value" id="totalRounds">0</div>
            <div class="label">å‚ä¸è½®æ•°</div>
          </div>
          <div class="stat-box">
            <div class="value" id="winCount">0</div>
            <div class="label">ä¸­æ ‡æ¬¡æ•°</div>
          </div>
          <div class="stat-box">
            <div class="value" id="winRate">-</div>
            <div class="label">ä¸­æ ‡ç‡</div>
          </div>
          <div class="stat-box">
            <div class="value" id="totalProfit">Â¥0</div>
            <div class="label">ç´¯è®¡ç›ˆäº</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="profitChart"></canvas>
        </div>
      </div>
      
      <!-- å†å²è®°å½• -->
      <div class="history-section">
        <h4>ğŸ“œ ç«æ‹å†å²</h4>
        <div class="history-list" id="historyList">
          <div style="color: rgba(255,255,255,0.5); text-align: center; padding: 20px;">
            è¿˜æ²¡æœ‰ç«æ‹è®°å½•ï¼Œå¼€å§‹å‡ºä»·å§ï¼
          </div>
        </div>
      </div>
    </div>
    
    <!-- è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ -->
    <div class="card">
      <h2 style="margin-bottom: 15px; color: #ffd700;">ğŸ² è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿï¼š1000åœºæ‹å–</h2>
      <p style="color: rgba(255,255,255,0.7); margin-bottom: 20px;">
        æ¨¡æ‹Ÿ1000åœºæ‹å–ï¼Œæ¯åœº10äººç«æ‹ï¼Œçœ‹çœ‹èµ¢å®¶çš„å¹³å‡æ”¶ç›Šæ˜¯å¤šå°‘
      </p>
      
      <div class="controls">
        <button class="btn btn-primary" onclick="runSimulation()" id="simBtn">ğŸš€ è¿è¡Œæ¨¡æ‹Ÿ</button>
      </div>
      
      <div class="batch-results" id="batchResults">
        <div class="result-grid">
          <div class="result-card">
            <h4>ğŸ† èµ¢å®¶å¹³å‡ç›ˆäº</h4>
            <div class="value red" id="simWinnerProfit">-</div>
          </div>
          <div class="result-card">
            <h4>ğŸ“Š èµ¢å®¶äºæŸæ¯”ä¾‹</h4>
            <div class="value red" id="simLossRate">-</div>
          </div>
          <div class="result-card">
            <h4>ğŸ’¡ å¹³å‡é«˜ä¼°å¹…åº¦</h4>
            <div class="value gold" id="simOverpay">-</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="distributionChart"></canvas>
        </div>
      </div>
    </div>
    
    <!-- æ•°å­¦åˆ†æ -->
    <div class="card analysis">
      <h3>ğŸ“ ä¸ºä»€ä¹ˆä¼šæœ‰èµ¢å®¶è¯…å’’ï¼Ÿ</h3>
      
      <p><strong>1. ä¿¡æ¯ä¸å¯¹ç§°ä¸‹çš„ä¼°ä»·åˆ†å¸ƒ</strong></p>
      <p>
        å‡è®¾ç‰©å“çœŸå®ä»·å€¼æ˜¯ Vï¼Œæ¯ä¸ªç«æ‹è€…çš„ä¼°ä»·æ˜¯ï¼š<br>
        ä¼°ä»· = V + è¯¯å·®ï¼ˆè¯¯å·®å¯æ­£å¯è´Ÿï¼Œå‡å€¼ä¸º0ï¼‰
      </p>
      <div class="formula">
        ç«æ‹è€…ä¼°ä»· = çœŸå®ä»·å€¼ Â± éšæœºè¯¯å·®
      </div>
      <p>
        å¦‚æœæœ‰10ä¸ªäººç«æ‹ï¼Œä»–ä»¬çš„ä¼°ä»·ä¼šå›´ç»•çœŸå®ä»·å€¼åˆ†å¸ƒã€‚<br>
        æœ‰äººé«˜ä¼°ï¼Œæœ‰äººä½ä¼°ï¼Œå¹³å‡ä¸‹æ¥æ¥è¿‘çœŸå®ä»·å€¼ã€‚
      </p>
      
      <p><strong>2. èµ¢å®¶æ˜¯è°ï¼Ÿ</strong></p>
      <p>
        å‡ºä»·æœ€é«˜çš„äººèµ¢å¾—æ‹å–ã€‚<br>
        è€Œå‡ºä»·æœ€é«˜çš„äººï¼Œå¾€å¾€æ˜¯<span class="highlight">ä¼°ä»·æœ€é«˜çš„äºº</span>ã€‚<br>
        ä¼°ä»·æœ€é«˜ = é«˜ä¼°å¾—æœ€å‰å®³ = <span class="highlight">ä»˜å‡ºçš„ä»·æ ¼è¶…è¿‡çœŸå®ä»·å€¼</span>
      </p>
      
      <p><strong>3. æ•°å­¦æœŸæœ›</strong></p>
      <div class="formula">
        E[æœ€é«˜ä¼°ä»·] > E[å¹³å‡ä¼°ä»·] = çœŸå®ä»·å€¼<br>
        âˆ´ E[èµ¢å®¶æ”¯ä»˜] > çœŸå®ä»·å€¼<br>
        âˆ´ E[èµ¢å®¶æ”¶ç›Š] < 0
      </div>
      <p>
        ç«æ‹äººæ•°è¶Šå¤šï¼Œæœ€é«˜ä¼°ä»·åç¦»çœŸå®ä»·å€¼è¶Šè¿œï¼Œèµ¢å®¶è¯…å’’è¶Šä¸¥é‡ã€‚
      </p>
      
      <p><strong>4. ç†æ€§çš„åº”å¯¹ç­–ç•¥</strong></p>
      <p>
        å¦‚æœä½ çŸ¥é“èµ¢å®¶è¯…å’’çš„å­˜åœ¨ï¼Œåº”è¯¥æ€ä¹ˆå‡ºä»·ï¼Ÿ
      </p>
      <div class="formula">
        æœ€ä¼˜å‡ºä»· = ä½ çš„ä¼°ä»· Ã— æŠ˜æ‰£ç³»æ•°<br>
        æŠ˜æ‰£ç³»æ•° â‰ˆ (n-1)/n ï¼ˆnä¸ºç«æ‹äººæ•°ï¼‰<br>
        ä¾‹å¦‚10äººç«æ‹ï¼šå‡ºä»· = ä¼°ä»· Ã— 0.9
      </div>
      <p>
        ä½†é—®é¢˜æ˜¯ï¼š<span class="highlight">å¤§å¤šæ•°äººä¸ä¼šè¿™ä¹ˆåš</span>ã€‚<br>
        ä»–ä»¬ä¼šæŒ‰è‡ªå·±çš„ä¼°ä»·å‡ºä»·ï¼Œç”šè‡³ä¸ºäº†"èµ¢"è€ŒåŠ ä»·ã€‚
      </p>
    </div>
    
    <!-- ç”Ÿæ´»æ¡ˆä¾‹ -->
    <div class="card">
      <h3 style="color: #ffd700; margin-bottom: 20px;">ğŸ¯ ç”Ÿæ´»ä¸­çš„èµ¢å®¶è¯…å’’</h3>
      
      <div class="cases">
        <div class="case-card">
          <h4>ğŸ  æŠ¢æˆ¿å¤§æˆ˜</h4>
          <p>çƒ­é—¨æˆ¿æºå¤šäººç«ä»·ï¼Œæœ€ç»ˆæˆäº¤ä»·å¾€å¾€é«˜äºå¸‚åœºä»·ã€‚ä¹°åˆ°çš„äºº"èµ¢äº†"ï¼Œä½†å¯èƒ½ä¹°è´µäº†ã€‚å‡ å¹´åæˆ¿ä»·æ²¡æ¶¨ï¼Œæ‰å‘ç°è‡ªå·±æ˜¯"èµ¢å®¶è¯…å’’"çš„å—å®³è€…ã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ’¼ å…¬å¸æ”¶è´­</h4>
          <p>å¤šå®¶å…¬å¸ç«è´­åŒä¸€ç›®æ ‡ï¼Œå‡ºä»·æœ€é«˜è€…èƒœå‡ºã€‚ç ”ç©¶æ˜¾ç¤ºï¼Œæ”¶è´­æ–¹å¹³å‡ä¼šé«˜ä¼°ç›®æ ‡å…¬å¸ä»·å€¼20-30%ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šæ”¶è´­æ¡ˆæœ€ç»ˆè¢«è¯æ˜"ä¹°è´µäº†"ã€‚</p>
        </div>
        <div class="case-card">
          <h4>âš½ çƒå‘˜è½¬ä¼š</h4>
          <p>å¤©ä»·è½¬ä¼šè´¹çš„çƒå‘˜ï¼Œè¡¨ç°å¾€å¾€ä¸åŠé¢„æœŸã€‚å› ä¸ºæ„¿æ„å‡ºæœ€é«˜ä»·çš„ä¿±ä¹éƒ¨ï¼Œé€šå¸¸æ˜¯å¯¹çƒå‘˜èƒ½åŠ›æœ€ä¹è§‚ï¼ˆé«˜ä¼°ï¼‰çš„é‚£ä¸ªã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ“± é™é‡æŠ¢è´­</h4>
          <p>é»„ç‰›é«˜ä»·æ”¶è´­é™é‡å•†å“ï¼Œä»¥ä¸ºèƒ½è½¬æ‰‹èµšé’±ã€‚ä½†æ„¿æ„å‡ºæœ€é«˜ä»·çš„é»„ç‰›ï¼Œå¾€å¾€é«˜ä¼°äº†å¸‚åœºéœ€æ±‚ï¼Œæœ€åç ¸åœ¨æ‰‹é‡Œã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ’ è‰ºæœ¯å“æ‹å–</h4>
          <p>æ‹å–ä¼šä¸Šçš„å¤©ä»·æˆäº¤ï¼Œä¹°å®¶çœŸçš„æ¡åˆ°å®äº†å—ï¼Ÿå¾ˆå¤šè‰ºæœ¯å“åœ¨äºŒæ¬¡å‡ºå”®æ—¶ä»·æ ¼å¤§è·Œï¼Œå› ä¸ºç¬¬ä¸€æ¬¡çš„ä¹°å®¶å°±æ˜¯"è¢«è¯…å’’çš„èµ¢å®¶"ã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ›¢ï¸ çŸ³æ²¹å¼€é‡‡æƒ</h4>
          <p>èµ¢å®¶è¯…å’’æœ€æ—©å°±æ˜¯åœ¨çŸ³æ²¹å¼€é‡‡æƒæ‹å–ä¸­è¢«å‘ç°çš„ã€‚ä¸­æ ‡çš„å…¬å¸å¾€å¾€é«˜ä¼°äº†æ²¹ç”°å‚¨é‡ï¼Œæœ€ç»ˆæ”¶ç›Šè¿œä½äºé¢„æœŸã€‚</p>
        </div>
      </div>
    </div>
    
    <!-- ç»“è®º -->
    <div class="card conclusion">
      <h3>ğŸ’¡ å¦‚ä½•é¿å…èµ¢å®¶è¯…å’’ï¼Ÿ</h3>
      <p>
        <strong>1. æ„è¯†åˆ°å®ƒçš„å­˜åœ¨</strong><br>
        å½“ä½ "èµ¢äº†"ç«äº‰æ—¶ï¼Œé—®é—®è‡ªå·±ï¼šæˆ‘æ˜¯ä¸æ˜¯å‡ºä»·æœ€é«˜çš„é‚£ä¸ªå‚»ç“œï¼Ÿ<br><br>
        
        <strong>2. ä¸»åŠ¨æ‰“æŠ˜</strong><br>
        ä½ çš„ä¼°ä»·ä¸æ˜¯ä½ åº”è¯¥å‡ºçš„ä»·ã€‚ç«äº‰è€…è¶Šå¤šï¼ŒæŠ˜æ‰£åº”è¯¥è¶Šå¤§ã€‚<br><br>
        
        <strong>3. è­¦æƒ•"èµ¢"çš„å†²åŠ¨</strong><br>
        å¾ˆå¤šäººä¸ºäº†"èµ¢"è€ŒåŠ ä»·ï¼Œå¿˜äº†èµ¢æœ¬èº«ä¸æ˜¯ç›®çš„ï¼Œ<span style="color: #ffd700;">èµšé’±æ‰æ˜¯</span>ã€‚<br><br>
        
        <strong>4. æœ‰æ—¶å€™ï¼Œè¾“äº†æ‰æ˜¯èµ¢äº†</strong><br>
        <span style="color: rgba(255,255,255,0.6);">
          æ²¡ä¹°åˆ°é‚£å¥—æˆ¿ã€æ²¡æŠ¢åˆ°é‚£ä¸ªæ ‡ã€æ²¡è¿½åˆ°é‚£ä¸ªäººâ€¦â€¦<br>
          ä¹Ÿè®¸ä¸æ˜¯ä½ çš„æŸå¤±ï¼Œè€Œæ˜¯ä½ èº²è¿‡äº†ä¸€ä¸ªè¯…å’’ã€‚
        </span>
      </p>
    </div>
  </div>

  <script>
    // æ¸¸æˆçŠ¶æ€
    let trueValue = 0;
    let totalRounds = 0;
    let winCount = 0;
    let totalProfit = 0;
    let history = [];
    let profitHistory = [0];
    let chart = null;
    let distributionChart = null;
    
    // ç”ŸæˆçœŸå®ä»·å€¼
    function generateTrueValue() {
      return Math.floor(500 + Math.random() * 1000); // 500-1500
    }
    
    // ç”ŸæˆAIç«æ‹è€…
    function generateBidders(trueValue, count = 9) {
      const bidders = [];
      for (let i = 0; i < count; i++) {
        // ä¼°ä»·è¯¯å·®ï¼šæ­£æ€åˆ†å¸ƒï¼Œæ ‡å‡†å·®çº¦ä¸ºçœŸå®ä»·å€¼çš„15%
        const errorRate = (Math.random() + Math.random() + Math.random() - 1.5) * 0.3;
        const estimate = Math.round(trueValue * (1 + errorRate));
        // å‡ºä»·ç­–ç•¥ï¼šä¼°ä»·çš„85%-105%
        const bidRate = 0.85 + Math.random() * 0.2;
        const bid = Math.round(estimate * bidRate);
        bidders.push({
          name: `ç«æ‹è€…${i + 1}`,
          estimate: estimate,
          bid: Math.max(0, bid)
        });
      }
      return bidders;
    }
    
    // æäº¤å‡ºä»·
    function submitBid() {
      const userBidInput = document.getElementById('userBid');
      const userBid = parseInt(userBidInput.value);
      
      if (isNaN(userBid) || userBid <= 0) {
        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„å‡ºä»·é‡‘é¢ï¼');
        return;
      }
      
      // ç”Ÿæˆæœ¬è½®æ•°æ®
      trueValue = generateTrueValue();
      const bidders = generateBidders(trueValue);
      
      // åŠ å…¥ç”¨æˆ·
      bidders.push({
        name: 'ä½ ',
        estimate: userBid, // å‡è®¾ç”¨æˆ·å‡ºä»·=ä¼°ä»·
        bid: userBid,
        isUser: true
      });
      
      // æŒ‰å‡ºä»·æ’åº
      bidders.sort((a, b) => b.bid - a.bid);
      
      // æ‰¾å‡ºèµ¢å®¶
      const winner = bidders[0];
      const isUserWinner = winner.isUser;
      const profit = isUserWinner ? (trueValue - userBid) : 0;
      
      // æ›´æ–°ç»Ÿè®¡
      totalRounds++;
      if (isUserWinner) {
        winCount++;
        totalProfit += profit;
      }
      profitHistory.push(totalProfit);
      
      // è®°å½•å†å²
      history.unshift({
        round: totalRounds,
        trueValue: trueValue,
        userBid: userBid,
        winningBid: winner.bid,
        isWinner: isUserWinner,
        profit: profit
      });
      
      // æ˜¾ç¤ºç»“æœ
      showResult(trueValue, winner, bidders, isUserWinner, profit);
      updateStats();
      updateChart();
      renderHistory();
      
      // ç¦ç”¨å‡ºä»·æŒ‰é’®
      document.getElementById('bidBtn').disabled = true;
    }
    
    // æ˜¾ç¤ºç»“æœ
    function showResult(trueValue, winner, bidders, isUserWinner, profit) {
      const panel = document.getElementById('resultPanel');
      const header = document.getElementById('resultHeader');
      
      panel.classList.add('show');
      
      // ç»“æœæ ‡é¢˜
      if (isUserWinner) {
        if (profit >= 0) {
          header.className = 'result-header win';
          header.innerHTML = `ğŸ‰ æ­å–œä¸­æ ‡ï¼ä½ èµšäº† Â¥${profit}`;
        } else {
          header.className = 'result-header lose';
          header.innerHTML = `ğŸ˜± ä¸­æ ‡äº†ï¼Œä½†ä½ äºäº† Â¥${Math.abs(profit)}ï¼è¿™å°±æ˜¯èµ¢å®¶è¯…å’’`;
        }
      } else {
        header.className = 'result-header not-win';
        header.innerHTML = `ğŸ˜Œ æœªä¸­æ ‡ Â· èµ¢å®¶å‡ºä»· Â¥${winner.bid}ï¼Œ${winner.bid > trueValue ? 'äºäº† Â¥' + (winner.bid - trueValue) : 'èµšäº† Â¥' + (trueValue - winner.bid)}`;
      }
      
      // æ•°å€¼æ˜¾ç¤º
      document.getElementById('trueValue').textContent = `Â¥${trueValue}`;
      
      const winningBidEl = document.getElementById('winningBid');
      winningBidEl.textContent = `Â¥${winner.bid}`;
      winningBidEl.className = 'value ' + (winner.bid > trueValue ? 'red' : 'green');
      
      const profitEl = document.getElementById('roundProfit');
      if (isUserWinner) {
        profitEl.textContent = (profit >= 0 ? '+' : '') + `Â¥${profit}`;
        profitEl.className = 'value ' + (profit >= 0 ? 'green' : 'red');
      } else {
        profitEl.textContent = 'Â¥0';
        profitEl.className = 'value';
      }
      
      // ç«æ‹è€…åˆ—è¡¨
      const list = document.getElementById('biddersList');
      list.innerHTML = bidders.map((b, i) => `
        <div class="bidder-card ${i === 0 ? 'winner' : ''} ${b.isUser ? 'you' : ''}">
          <div class="name">${b.name} ${i === 0 ? 'ğŸ‘‘' : ''}</div>
          <div class="bid">Â¥${b.bid}</div>
          <div class="estimate">ä¼°ä»· Â¥${b.estimate}</div>
        </div>
      `).join('');
    }
    
    // ä¸‹ä¸€è½®
    function nextRound() {
      document.getElementById('resultPanel').classList.remove('show');
      document.getElementById('userBid').value = '';
      document.getElementById('bidBtn').disabled = false;
      
      // æ›´æ¢ç‰©å“å›¾æ ‡
      const items = ['ğŸ“¦', 'ğŸ’', 'ğŸº', 'ğŸ¨', 'âŒš', 'ğŸ’', 'ğŸ†', 'ğŸ¸', 'ğŸ“¿', 'ğŸ—¿'];
      document.getElementById('mysteryItem').textContent = items[Math.floor(Math.random() * items.length)];
    }
    
    // è‡ªåŠ¨æ¸¸æˆ
    function autoPlay(rounds) {
      let count = 0;
      const interval = setInterval(() => {
        if (count >= rounds) {
          clearInterval(interval);
          return;
        }
        
        // éšæœºå‡ºä»·ç­–ç•¥ï¼šçœŸå®ä»·å€¼çš„80%-120%
        const fakeTrue = generateTrueValue();
        const userBid = Math.round(fakeTrue * (0.8 + Math.random() * 0.4));
        document.getElementById('userBid').value = userBid;
        submitBid();
        count++;
        
        if (count < rounds) {
          setTimeout(nextRound, 100);
        }
      }, 200);
    }
    
    // é‡ç½®
    function resetAll() {
      totalRounds = 0;
      winCount = 0;
      totalProfit = 0;
      history = [];
      profitHistory = [0];
      
      updateStats();
      updateChart();
      renderHistory();
      nextRound();
    }
    
    // æ›´æ–°ç»Ÿè®¡
    function updateStats() {
      document.getElementById('totalRounds').textContent = totalRounds;
      document.getElementById('winCount').textContent = winCount;
      document.getElementById('winRate').textContent = totalRounds > 0 
        ? (winCount / totalRounds * 100).toFixed(1) + '%' 
        : '-';
      
      const profitEl = document.getElementById('totalProfit');
      profitEl.textContent = (totalProfit >= 0 ? '+' : '') + `Â¥${totalProfit}`;
      profitEl.style.color = totalProfit >= 0 ? '#4ade80' : '#ff6b6b';
    }
    
    // æ›´æ–°å›¾è¡¨
    function updateChart() {
      const ctx = document.getElementById('profitChart').getContext('2d');
      
      if (chart) chart.destroy();
      
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: profitHistory.map((_, i) => i),
          datasets: [{
            label: 'ç´¯è®¡ç›ˆäº',
            data: profitHistory,
            borderColor: totalProfit >= 0 ? '#4ade80' : '#ff6b6b',
            backgroundColor: totalProfit >= 0 ? 'rgba(74,222,128,0.1)' : 'rgba(255,107,107,0.1)',
            fill: true,
            tension: 0.1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            x: {
              title: { display: true, text: 'è½®æ¬¡', color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' },
              ticks: { color: 'rgba(255,255,255,0.4)' }
            },
            y: {
              title: { display: true, text: 'ç´¯è®¡ç›ˆäº (å…ƒ)', color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' },
              ticks: { color: 'rgba(255,255,255,0.4)' }
            }
          }
        }
      });
    }
    
    // æ¸²æŸ“å†å²
    function renderHistory() {
      const list = document.getElementById('historyList');
      
      if (history.length === 0) {
        list.innerHTML = '<div style="color: rgba(255,255,255,0.5); text-align: center; padding: 20px;">è¿˜æ²¡æœ‰ç«æ‹è®°å½•ï¼Œå¼€å§‹å‡ºä»·å§ï¼</div>';
        return;
      }
      
      list.innerHTML = history.slice(0, 20).map(h => {
        let className = 'history-item ';
        let text = '';
        
        if (h.isWinner) {
          className += h.profit >= 0 ? 'win' : 'lose';
          text = `ç¬¬${h.round}è½®ï¼šå‡ºä»·Â¥${h.userBid} ä¸­æ ‡ Â· çœŸå®ä»·å€¼Â¥${h.trueValue} Â· ${h.profit >= 0 ? 'èµš' : 'äº'}Â¥${Math.abs(h.profit)}`;
        } else {
          className += 'not-win';
          text = `ç¬¬${h.round}è½®ï¼šå‡ºä»·Â¥${h.userBid} æœªä¸­æ ‡ Â· ä¸­æ ‡ä»·Â¥${h.winningBid}`;
        }
        
        return `<div class="${className}">${text}</div>`;
      }).join('');
    }
    
    // è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ
    function runSimulation() {
      const btn = document.getElementById('simBtn');
      btn.disabled = true;
      btn.textContent = 'æ¨¡æ‹Ÿä¸­...';
      
      setTimeout(() => {
        const auctions = 1000;
        const bidderCount = 10;
        const winnerProfits = [];
        let lossCount = 0;
        let totalOverpay = 0;
        
        for (let i = 0; i < auctions; i++) {
          const trueVal = 500 + Math.random() * 1000;
          
          // ç”Ÿæˆæ‰€æœ‰ç«æ‹è€…
          const bids = [];
          for (let j = 0; j < bidderCount; j++) {
            const errorRate = (Math.random() + Math.random() + Math.random() - 1.5) * 0.3;
            const estimate = trueVal * (1 + errorRate);
            const bid = estimate * (0.85 + Math.random() * 0.2);
            bids.push({ estimate, bid });
          }
          
          // æ‰¾å‡ºæœ€é«˜å‡ºä»·
          const winner = bids.reduce((max, b) => b.bid > max.bid ? b : max);
          const profit = trueVal - winner.bid;
          
          winnerProfits.push(profit);
          if (profit < 0) {
            lossCount++;
            totalOverpay += Math.abs(profit);
          }
        }
        
        // è®¡ç®—ç»Ÿè®¡
        const avgProfit = winnerProfits.reduce((a, b) => a + b, 0) / auctions;
        const lossRate = (lossCount / auctions * 100).toFixed(1);
        const avgOverpay = lossCount > 0 ? (totalOverpay / lossCount).toFixed(0) : 0;
        
        // æ˜¾ç¤ºç»“æœ
        document.getElementById('simWinnerProfit').textContent = `Â¥${avgProfit.toFixed(0)}`;
        document.getElementById('simWinnerProfit').className = 'value ' + (avgProfit >= 0 ? 'green' : 'red');
        document.getElementById('simLossRate').textContent = `${lossRate}%`;
        document.getElementById('simOverpay').textContent = `Â¥${avgOverpay}`;
        
        document.getElementById('batchResults').classList.add('show');
        
        // ç»˜åˆ¶åˆ†å¸ƒå›¾
        drawDistribution(winnerProfits);
        
        btn.disabled = false;
        btn.textContent = 'ğŸš€ é‡æ–°æ¨¡æ‹Ÿ';
      }, 100);
    }
    
    // ç»˜åˆ¶åˆ†å¸ƒå›¾
    function drawDistribution(profits) {
      const ctx = document.getElementById('distributionChart').getContext('2d');
      
      if (distributionChart) distributionChart.destroy();
      
      // åˆ†æ¡¶
      const buckets = {};
      const step = 50;
      profits.forEach(p => {
        const bucket = Math.floor(p / step) * step;
        buckets[bucket] = (buckets[bucket] || 0) + 1;
      });
      
      const labels = Object.keys(buckets).map(Number).sort((a, b) => a - b);
      const data = labels.map(l => buckets[l]);
      
      distributionChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: labels.map(l => `${l}`),
          datasets: [{
            label: 'é¢‘æ¬¡',
            data: data,
            backgroundColor: labels.map(l => l >= 0 ? 'rgba(74,222,128,0.7)' : 'rgba(255,107,107,0.7)'),
            borderRadius: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            title: {
              display: true,
              text: 'èµ¢å®¶ç›ˆäºåˆ†å¸ƒï¼ˆå…ƒï¼‰',
              color: 'rgba(255,255,255,0.7)'
            }
          },
          scales: {
            x: {
              grid: { display: false },
              ticks: { color: 'rgba(255,255,255,0.5)', maxRotation: 45 }
            },
            y: {
              grid: { color: 'rgba(255,255,255,0.05)' },
              ticks: { color: 'rgba(255,255,255,0.5)' }
            }
          }
        }
      });
    }
    
    // åˆå§‹åŒ–
    updateChart();
  </script>
</body>
</html>
