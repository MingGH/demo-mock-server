<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>äº¤æ˜“ç­–ç•¥æ¨¡æ‹Ÿå™¨ - é«˜èƒœç‡ vs é«˜ç›ˆäºæ¯”</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../components/header.js" defer></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    .container { max-width: 1000px; margin: 0 auto; }
    .back-link {
      display: inline-block;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
      background: linear-gradient(135deg, #4ade80, #22d3ee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      margin-bottom: 25px;
    }
    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .question-box {
      background: linear-gradient(135deg, rgba(74,222,128,0.15), rgba(34,211,238,0.1));
      border-left: 4px solid #4ade80;
      padding: 15px 20px;
      border-radius: 0 12px 12px 0;
      margin-bottom: 20px;
      line-height: 1.8;
    }
    
    /* ç­–ç•¥å¯¹æ¯” */
    .strategy-compare {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    @media (max-width: 700px) {
      .strategy-compare { grid-template-columns: 1fr; }
    }
    .strategy-card {
      background: rgba(0,0,0,0.3);
      border-radius: 16px;
      padding: 20px;
      border: 2px solid transparent;
      transition: all 0.3s;
    }
    .strategy-card.high-winrate { border-color: rgba(74,222,128,0.3); }
    .strategy-card.high-rr { border-color: rgba(251,191,36,0.3); }
    .strategy-card h3 {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    .strategy-card.high-winrate h3 { color: #4ade80; }
    .strategy-card.high-rr h3 { color: #fbbf24; }
    .strategy-icon { font-size: 1.5rem; }
    
    .param-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .param-row:last-child { border-bottom: none; }
    .param-label { color: rgba(255,255,255,0.6); font-size: 0.9rem; }
    .param-value { font-weight: bold; font-size: 1.1rem; }
    .param-value.green { color: #4ade80; }
    .param-value.yellow { color: #fbbf24; }
    .param-value.red { color: #f87171; }
    
    /* æ»‘å— */
    .slider-group {
      margin: 15px 0;
    }
    .slider-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.9rem;
    }
    .slider-label span:first-child { color: rgba(255,255,255,0.6); }
    .slider-label span:last-child { color: #4ade80; font-weight: bold; }
    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: rgba(255,255,255,0.1);
      outline: none;
      -webkit-appearance: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #4ade80;
      cursor: pointer;
    }
    .slider-group.yellow input[type="range"]::-webkit-slider-thumb {
      background: #fbbf24;
    }
    
    /* ç»“æœé¢æ¿ */
    .results-panel {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    @media (max-width: 600px) {
      .results-panel { grid-template-columns: 1fr; }
    }
    .result-box {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    .result-box .label {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.5);
      margin-bottom: 8px;
    }
    .result-box .value {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .result-box .value.green { color: #4ade80; }
    .result-box .value.yellow { color: #fbbf24; }
    .result-box .value.red { color: #f87171; }
    .result-box .sub {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.4);
      margin-top: 5px;
    }
    
    /* å›¾è¡¨ */
    .chart-container {
      position: relative;
      height: 350px;
      margin: 20px 0;
    }
    
    /* æŒ‰é’® */
    .btn-group {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .btn {
      padding: 12px 25px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn-primary {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: #000;
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .btn-yellow {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #000;
    }
    
    /* æœŸæœ›å€¼å…¬å¼ */
    .formula-box {
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
    }
    .formula-box h4 {
      color: #22d3ee;
      margin-bottom: 15px;
    }
    .formula {
      font-size: 1.1rem;
      line-height: 2;
      color: rgba(255,255,255,0.9);
    }
    .formula .highlight { color: #4ade80; }
    .formula .yellow { color: #fbbf24; }
    
    /* åˆ†æåŒº */
    .analysis {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 22px;
      margin-top: 20px;
    }
    .analysis h3 {
      color: #22d3ee;
      margin-bottom: 15px;
    }
    .analysis p {
      color: rgba(255,255,255,0.85);
      line-height: 1.85;
      margin-bottom: 14px;
    }
    .analysis .key { color: #4ade80; font-weight: bold; }
    .analysis .warn { color: #fbbf24; font-weight: bold; }
    
    /* å¯¹æ¯”è¡¨æ ¼ */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    .compare-table th, .compare-table td {
      padding: 12px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .compare-table th {
      background: rgba(34,211,238,0.2);
      color: #22d3ee;
    }
    .compare-table .green { color: #4ade80; }
    .compare-table .yellow { color: #fbbf24; }
    
    /* ç»“è®º */
    .conclusion {
      background: linear-gradient(135deg, rgba(34,211,238,0.15), rgba(74,222,128,0.1));
      border: 2px solid #22d3ee;
      border-radius: 16px;
      padding: 25px;
      text-align: center;
    }
    .conclusion h3 { color: #22d3ee; margin-bottom: 15px; }
    .conclusion p { color: rgba(255,255,255,0.9); line-height: 1.85; }
    
    /* å†å²è®°å½• */
    .trade-history {
      max-height: 200px;
      overflow-y: auto;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      padding: 10px;
      margin-top: 15px;
    }
    .trade-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 0.85rem;
    }
    .trade-item:last-child { border-bottom: none; }
    .trade-item.win { color: #4ade80; }
    .trade-item.lose { color: #f87171; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1>ğŸ“ˆ äº¤æ˜“ç­–ç•¥æ¨¡æ‹Ÿå™¨</h1>
    <p class="subtitle">é«˜èƒœç‡ vs é«˜ç›ˆäºæ¯”ï¼Œè°æ‰æ˜¯ç‹é“ï¼Ÿ</p>
    
    <div class="card">
      <div class="question-box">
        <strong>çŸ¥ä¹çƒ­è®®ï¼š</strong>ä¸ºä»€ä¹ˆé«˜ç›ˆäºæ¯”çš„äººçœ‹ä¸èµ·é«˜èƒœç‡çš„äººï¼Ÿ<br>
        æœ‰å¤§Vè¯´"äº¤æ˜“åšåˆ°æœ€åèƒœç‡éƒ½æ˜¯50%"ï¼Œé«˜èƒœç‡é•¿æœŸå¿…å®šä½äº50%ï¼Ÿ<br>
        <strong>è¿™ç§è¯´æ³•å¯¹å—ï¼Ÿè®©æ•°æ®è¯´è¯ã€‚</strong>
      </div>
      
      <!-- æ ¸å¿ƒå…¬å¼ -->
      <div class="formula-box">
        <h4>ğŸ“ äº¤æ˜“çš„æ ¸å¿ƒå…¬å¼ï¼šæœŸæœ›å€¼</h4>
        <div class="formula">
          æœŸæœ›å€¼ = <span class="highlight">èƒœç‡</span> Ã— <span class="highlight">å¹³å‡ç›ˆåˆ©</span> - <span class="yellow">(1-èƒœç‡)</span> Ã— <span class="yellow">å¹³å‡äºæŸ</span><br><br>
          æˆ–è€…å†™æˆï¼šE = P Ã— W - (1-P) Ã— L<br><br>
          å…¶ä¸­ç›ˆäºæ¯” R = W / L<br><br>
          <strong>åªè¦ E > 0ï¼Œé•¿æœŸå°±èƒ½ç›ˆåˆ©ã€‚</strong>
        </div>
      </div>
    </div>
    
    <!-- ç­–ç•¥å¯¹æ¯” -->
    <div class="card">
      <h2 style="color: #22d3ee; margin-bottom: 20px;">âš”ï¸ ä¸¤ç§ç­–ç•¥å¯¹å†³</h2>
      
      <div class="strategy-compare">
        <!-- é«˜èƒœç‡ç­–ç•¥ -->
        <div class="strategy-card high-winrate">
          <h3><span class="strategy-icon">ğŸ¯</span> é«˜èƒœç‡ç­–ç•¥</h3>
          
          <div class="slider-group">
            <div class="slider-label">
              <span>èƒœç‡</span>
              <span id="winrateValue1">70%</span>
            </div>
            <input type="range" id="winrate1" min="10" max="95" value="70" oninput="updateStrategy()">
          </div>
          
          <div class="slider-group">
            <div class="slider-label">
              <span>ç›ˆäºæ¯”</span>
              <span id="rrValue1">0.8:1</span>
            </div>
            <input type="range" id="rr1" min="20" max="150" value="80" oninput="updateStrategy()">
          </div>
          
          <div class="param-row">
            <span class="param-label">æœŸæœ›å€¼</span>
            <span class="param-value green" id="ev1">+0.26</span>
          </div>
          <div class="param-row">
            <span class="param-label">100æ¬¡äº¤æ˜“é¢„æœŸ</span>
            <span class="param-value" id="profit1">+26%</span>
          </div>
        </div>
        
        <!-- é«˜ç›ˆäºæ¯”ç­–ç•¥ -->
        <div class="strategy-card high-rr">
          <h3><span class="strategy-icon">ğŸš€</span> é«˜ç›ˆäºæ¯”ç­–ç•¥</h3>
          
          <div class="slider-group yellow">
            <div class="slider-label">
              <span>èƒœç‡</span>
              <span id="winrateValue2">35%</span>
            </div>
            <input type="range" id="winrate2" min="10" max="95" value="35" oninput="updateStrategy()">
          </div>
          
          <div class="slider-group yellow">
            <div class="slider-label">
              <span>ç›ˆäºæ¯”</span>
              <span id="rrValue2">3:1</span>
            </div>
            <input type="range" id="rr2" min="20" max="500" value="300" oninput="updateStrategy()">
          </div>
          
          <div class="param-row">
            <span class="param-label">æœŸæœ›å€¼</span>
            <span class="param-value yellow" id="ev2">+0.40</span>
          </div>
          <div class="param-row">
            <span class="param-label">100æ¬¡äº¤æ˜“é¢„æœŸ</span>
            <span class="param-value" id="profit2">+40%</span>
          </div>
        </div>
      </div>
      
      <!-- æ¨¡æ‹ŸæŒ‰é’® -->
      <div class="btn-group">
        <button class="btn btn-primary" onclick="runSimulation(100)">ğŸ² æ¨¡æ‹Ÿ100æ¬¡äº¤æ˜“</button>
        <button class="btn btn-yellow" onclick="runSimulation(1000)">âš¡ æ¨¡æ‹Ÿ1000æ¬¡</button>
        <button class="btn btn-secondary" onclick="runBattle()">âš”ï¸ 1000åœºå¯¹å†³</button>
      </div>
      
      <!-- ç»“æœé¢æ¿ -->
      <div class="results-panel" id="resultsPanel" style="display: none;">
        <div class="result-box">
          <div class="label">ğŸ¯ é«˜èƒœç‡æœ€ç»ˆæ”¶ç›Š</div>
          <div class="value green" id="result1">-</div>
          <div class="sub" id="actualWinrate1">å®é™…èƒœç‡: -</div>
        </div>
        <div class="result-box">
          <div class="label">ğŸš€ é«˜ç›ˆäºæ¯”æœ€ç»ˆæ”¶ç›Š</div>
          <div class="value yellow" id="result2">-</div>
          <div class="sub" id="actualWinrate2">å®é™…èƒœç‡: -</div>
        </div>
        <div class="result-box">
          <div class="label">ğŸ† æœ¬è½®èƒœè€…</div>
          <div class="value" id="winner">-</div>
          <div class="sub" id="winnerSub">-</div>
        </div>
      </div>
      
      <!-- å›¾è¡¨ -->
      <div class="chart-container">
        <canvas id="equityChart"></canvas>
      </div>
    </div>
    
    <!-- å¯¹å†³ç»Ÿè®¡ -->
    <div class="card" id="battleCard" style="display: none;">
      <h2 style="color: #22d3ee; margin-bottom: 20px;">ğŸ“Š 1000åœºå¯¹å†³ç»Ÿè®¡</h2>
      <div class="results-panel">
        <div class="result-box">
          <div class="label">ğŸ¯ é«˜èƒœç‡è·èƒœ</div>
          <div class="value green" id="battleWin1">-</div>
        </div>
        <div class="result-box">
          <div class="label">ğŸš€ é«˜ç›ˆäºæ¯”è·èƒœ</div>
          <div class="value yellow" id="battleWin2">-</div>
        </div>
        <div class="result-box">
          <div class="label">ğŸ“ˆ å¹³å‡æ”¶ç›Šå·®</div>
          <div class="value" id="avgDiff">-</div>
        </div>
      </div>
      <p style="color: rgba(255,255,255,0.6); text-align: center; margin-top: 15px;" id="battleConclusion"></p>
    </div>
    
    <!-- ç›ˆäºå¹³è¡¡è¡¨ -->
    <div class="card">
      <h2 style="color: #22d3ee; margin-bottom: 20px;">ğŸ“‹ ç›ˆäºå¹³è¡¡è¡¨ï¼šå¤šå°‘èƒœç‡æ‰èƒ½ä¿æœ¬ï¼Ÿ</h2>
      <p style="color: rgba(255,255,255,0.7); margin-bottom: 15px;">
        ä¸åŒç›ˆäºæ¯”ä¸‹ï¼Œéœ€è¦å¤šå°‘èƒœç‡æ‰èƒ½æœŸæœ›å€¼ä¸º0ï¼ˆä¸äºä¸èµšï¼‰ï¼š
      </p>
      
      <table class="compare-table">
        <thead>
          <tr>
            <th>ç›ˆäºæ¯”</th>
            <th>ä¿æœ¬èƒœç‡</th>
            <th>è¯´æ˜</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="yellow">0.5:1</td>
            <td class="green">66.7%</td>
            <td>èµš1äº2ï¼Œéœ€è¦å¾ˆé«˜èƒœç‡</td>
          </tr>
          <tr>
            <td class="yellow">1:1</td>
            <td class="green">50%</td>
            <td>èµš1äº1ï¼ŒæŠ›ç¡¬å¸æ°´å¹³</td>
          </tr>
          <tr>
            <td class="yellow">2:1</td>
            <td class="green">33.3%</td>
            <td>èµš2äº1ï¼Œ3æ¬¡å¯¹1æ¬¡</td>
          </tr>
          <tr>
            <td class="yellow">3:1</td>
            <td class="green">25%</td>
            <td>èµš3äº1ï¼Œ4æ¬¡å¯¹1æ¬¡</td>
          </tr>
          <tr>
            <td class="yellow">5:1</td>
            <td class="green">16.7%</td>
            <td>èµš5äº1ï¼Œ6æ¬¡å¯¹1æ¬¡</td>
          </tr>
          <tr>
            <td class="yellow">10:1</td>
            <td class="green">9.1%</td>
            <td>èµš10äº1ï¼Œ11æ¬¡å¯¹1æ¬¡</td>
          </tr>
        </tbody>
      </table>
      
      <p style="color: rgba(255,255,255,0.7); margin-top: 15px;">
        <span style="color: #4ade80;">å…¬å¼ï¼š</span>ä¿æœ¬èƒœç‡ = 1 / (1 + ç›ˆäºæ¯”)
      </p>
    </div>
    
    <!-- æ ¸å¿ƒåˆ†æ -->
    <div class="card analysis">
      <h3>ğŸ¤” ä¸ºä»€ä¹ˆé«˜ç›ˆäºæ¯”çš„äºº"çœ‹ä¸èµ·"é«˜èƒœç‡ï¼Ÿ</h3>
      
      <p><strong>1. ä»–ä»¬è¯´çš„æœ‰ä¸€å®šé“ç†</strong></p>
      <p>
        é«˜èƒœç‡ç­–ç•¥é€šå¸¸æ„å‘³ç€<span class="warn">å°èµšå¤§äº</span>â€”â€”èµšçš„æ—¶å€™èµšä¸€ç‚¹ï¼Œäºçš„æ—¶å€™äºå¾ˆå¤šã€‚<br>
        æ¯”å¦‚ï¼šèƒœç‡80%ï¼Œä½†ç›ˆäºæ¯”0.3:1ï¼ŒæœŸæœ›å€¼ = 0.8Ã—0.3 - 0.2Ã—1 = <span class="warn">0.04</span>ï¼ˆå‹‰å¼ºæ­£ï¼‰<br>
        ä¸€æ—¦èƒœç‡ä¸‹æ»‘åˆ°70%ï¼ŒæœŸæœ›å€¼ = 0.7Ã—0.3 - 0.3Ã—1 = <span style="color: #f87171;">-0.09</span>ï¼ˆäºæŸï¼‰
      </p>
      
      <p><strong>2. ä½†ä»–ä»¬çš„è¯´æ³•ä¹Ÿæœ‰é—®é¢˜</strong></p>
      <p>
        "èƒœç‡é•¿æœŸå¿…å®šä½äº50%"è¿™ä¸ªè¯´æ³•<span class="key">æ²¡æœ‰æ•°å­¦ä¾æ®</span>ã€‚<br>
        èƒœç‡å–å†³äºç­–ç•¥æœ¬èº«ï¼Œä¸æ˜¯ä»€ä¹ˆå®‡å®™æ³•åˆ™ã€‚<br>
        æœ‰äº›ç­–ç•¥å¤©ç„¶é«˜èƒœç‡ï¼ˆæ¯”å¦‚å–æœŸæƒï¼‰ï¼Œæœ‰äº›å¤©ç„¶ä½èƒœç‡ï¼ˆæ¯”å¦‚è¶‹åŠ¿è·Ÿè¸ªï¼‰ã€‚
      </p>
      
      <p><strong>3. çœŸæ­£é‡è¦çš„æ˜¯æœŸæœ›å€¼</strong></p>
      <p>
        <span class="key">æœŸæœ›å€¼ = èƒœç‡ Ã— ç›ˆåˆ© - (1-èƒœç‡) Ã— äºæŸ</span><br>
        åªè¦æœŸæœ›å€¼ä¸ºæ­£ï¼Œæ— è®ºé«˜èƒœç‡è¿˜æ˜¯é«˜ç›ˆäºæ¯”ï¼Œé•¿æœŸéƒ½èƒ½ç›ˆåˆ©ã€‚<br>
        ä¸¤ç§ç­–ç•¥æ²¡æœ‰é«˜ä¸‹ä¹‹åˆ†ï¼Œåªæœ‰<span class="key">é€‚åˆä¸é€‚åˆ</span>ã€‚
      </p>
      
      <p><strong>4. ä¸ºä»€ä¹ˆä¼šæœ‰é„™è§†é“¾ï¼Ÿ</strong></p>
      <p>
        é«˜ç›ˆäºæ¯”ç­–ç•¥éœ€è¦<span class="warn">æ‰¿å—è¿ç»­äºæŸ</span>ï¼Œå¿ƒç†å‹åŠ›å¤§ï¼Œèƒ½åšæŒä¸‹æ¥çš„äººå°‘ã€‚<br>
        ä»–ä»¬è§‰å¾—è‡ªå·±"ä¿®ç‚¼"è¿‡äº†ï¼Œæ‰€ä»¥çœ‹ä¸èµ·"èµ°æ·å¾„"çš„é«˜èƒœç‡æ´¾ã€‚<br>
        ä½†è¿™æ˜¯<span class="key">å¹¸å­˜è€…åå·®</span>â€”â€”æ­»åœ¨è¿äºè·¯ä¸Šçš„é«˜ç›ˆäºæ¯”é€‰æ‰‹ï¼Œä½ çœ‹ä¸åˆ°ã€‚
      </p>
    </div>
    
    <!-- ä¸¤ç§ç­–ç•¥çš„ä¼˜ç¼ºç‚¹ -->
    <div class="card">
      <h2 style="color: #22d3ee; margin-bottom: 20px;">âš–ï¸ ä¸¤ç§ç­–ç•¥çš„çœŸå®å¯¹æ¯”</h2>
      
      <table class="compare-table">
        <thead>
          <tr>
            <th>ç»´åº¦</th>
            <th class="green">é«˜èƒœç‡ç­–ç•¥</th>
            <th class="yellow">é«˜ç›ˆäºæ¯”ç­–ç•¥</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>å¿ƒç†èˆ’é€‚åº¦</td>
            <td class="green">é«˜ï¼ˆç»å¸¸èµ¢ï¼‰</td>
            <td class="yellow">ä½ï¼ˆç»å¸¸è¾“ï¼‰</td>
          </tr>
          <tr>
            <td>æœ€å¤§å›æ’¤</td>
            <td class="yellow">å¯èƒ½å¾ˆå¤§ï¼ˆä¸€æ¬¡å¤§äºï¼‰</td>
            <td class="green">ç›¸å¯¹å¯æ§</td>
          </tr>
          <tr>
            <td>è¿äºæ‰¿å—</td>
            <td class="green">å°‘ï¼ˆèƒœç‡é«˜ï¼‰</td>
            <td class="yellow">å¤šï¼ˆå¯èƒ½è¿äº10+æ¬¡ï¼‰</td>
          </tr>
          <tr>
            <td>èµ„é‡‘æ›²çº¿</td>
            <td class="green">å¹³æ»‘ä¸Šå‡+å¶å°”å¤§è·Œ</td>
            <td class="yellow">é”¯é½¿å½¢+å¶å°”å¤§æ¶¨</td>
          </tr>
          <tr>
            <td>é€‚åˆäººç¾¤</td>
            <td>åŒæ¶äºæŸã€éœ€è¦æ­£åé¦ˆ</td>
            <td>èƒ½æ‰¿å—è¿äºã€æœ‰è€å¿ƒ</td>
          </tr>
          <tr>
            <td>å…¸å‹ç­–ç•¥</td>
            <td>å–æœŸæƒã€å‡å€¼å›å½’</td>
            <td>è¶‹åŠ¿è·Ÿè¸ªã€çªç ´äº¤æ˜“</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- ç»“è®º -->
    <div class="card conclusion">
      <h3>ğŸ’¡ ç»“è®ºï¼šæ²¡æœ‰æœ€å¥½çš„ç­–ç•¥ï¼Œåªæœ‰æœ€é€‚åˆçš„ç­–ç•¥</h3>
      <p>
        é«˜ç›ˆäºæ¯”çš„äººçœ‹ä¸èµ·é«˜èƒœç‡ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>è·¯å¾„ä¾èµ–</strong>ã€‚<br><br>
        ä»–ä»¬èµ°é€šäº†é«˜ç›ˆäºæ¯”è¿™æ¡è·¯ï¼Œå°±è§‰å¾—è¿™æ˜¯"æ­£é“"ã€‚<br>
        ä½†æ•°å­¦å‘Šè¯‰æˆ‘ä»¬ï¼š<strong style="color: #4ade80;">åªè¦æœŸæœ›å€¼ä¸ºæ­£ï¼Œä¸¤æ¡è·¯éƒ½èƒ½åˆ°è¾¾ç»ˆç‚¹ã€‚</strong><br><br>
        çœŸæ­£çš„é—®é¢˜ä¸æ˜¯"å“ªç§ç­–ç•¥æ›´å¥½"ï¼Œè€Œæ˜¯ï¼š<br>
        <strong style="color: #fbbf24;">ä½ èƒ½ä¸èƒ½åšæŒæ‰§è¡Œä½ çš„ç­–ç•¥ï¼Ÿ</strong><br><br>
        é«˜èƒœç‡çš„äººå—ä¸äº†ä¸€æ¬¡å¤§äºï¼Œé«˜ç›ˆäºæ¯”çš„äººå—ä¸äº†è¿ç»­å°äºã€‚<br>
        <span style="color: rgba(255,255,255,0.6);">é€‰æ‹©é€‚åˆè‡ªå·±æ€§æ ¼çš„ç­–ç•¥ï¼Œæ¯”é€‰æ‹©"æ›´ä¼˜"çš„ç­–ç•¥é‡è¦å¾—å¤šã€‚</span>
      </p>
    </div>
  </div>


  <script>
    let chart = null;
    
    function updateStrategy() {
      const winrate1 = parseInt(document.getElementById('winrate1').value);
      const rr1 = parseInt(document.getElementById('rr1').value) / 100;
      const winrate2 = parseInt(document.getElementById('winrate2').value);
      const rr2 = parseInt(document.getElementById('rr2').value) / 100;
      
      document.getElementById('winrateValue1').textContent = winrate1 + '%';
      document.getElementById('rrValue1').textContent = rr1.toFixed(1) + ':1';
      document.getElementById('winrateValue2').textContent = winrate2 + '%';
      document.getElementById('rrValue2').textContent = rr2.toFixed(1) + ':1';
      
      // è®¡ç®—æœŸæœ›å€¼
      const ev1 = (winrate1/100) * rr1 - (1 - winrate1/100) * 1;
      const ev2 = (winrate2/100) * rr2 - (1 - winrate2/100) * 1;
      
      document.getElementById('ev1').textContent = (ev1 >= 0 ? '+' : '') + ev1.toFixed(3);
      document.getElementById('ev1').className = 'param-value ' + (ev1 >= 0 ? 'green' : 'red');
      
      document.getElementById('ev2').textContent = (ev2 >= 0 ? '+' : '') + ev2.toFixed(3);
      document.getElementById('ev2').className = 'param-value ' + (ev2 >= 0 ? 'yellow' : 'red');
      
      // 100æ¬¡äº¤æ˜“é¢„æœŸ
      const profit1 = ev1 * 100;
      const profit2 = ev2 * 100;
      
      document.getElementById('profit1').textContent = (profit1 >= 0 ? '+' : '') + profit1.toFixed(0) + '%';
      document.getElementById('profit1').className = 'param-value ' + (profit1 >= 0 ? 'green' : 'red');
      
      document.getElementById('profit2').textContent = (profit2 >= 0 ? '+' : '') + profit2.toFixed(0) + '%';
      document.getElementById('profit2').className = 'param-value ' + (profit2 >= 0 ? 'yellow' : 'red');
    }
    
    function simulateTrades(winrate, rr, count) {
      const equity = [100];
      let wins = 0;
      const riskPerTrade = 1; // æ¯æ¬¡é£é™©1%
      
      for (let i = 0; i < count; i++) {
        const win = Math.random() < winrate / 100;
        const currentEquity = equity[equity.length - 1];
        
        if (win) {
          wins++;
          equity.push(currentEquity * (1 + riskPerTrade * rr / 100));
        } else {
          equity.push(currentEquity * (1 - riskPerTrade / 100));
        }
      }
      
      return {
        equity,
        finalReturn: ((equity[equity.length - 1] - 100) / 100 * 100).toFixed(1),
        actualWinrate: (wins / count * 100).toFixed(1)
      };
    }
    
    function runSimulation(count) {
      const winrate1 = parseInt(document.getElementById('winrate1').value);
      const rr1 = parseInt(document.getElementById('rr1').value) / 100;
      const winrate2 = parseInt(document.getElementById('winrate2').value);
      const rr2 = parseInt(document.getElementById('rr2').value) / 100;
      
      const result1 = simulateTrades(winrate1, rr1, count);
      const result2 = simulateTrades(winrate2, rr2, count);
      
      // æ˜¾ç¤ºç»“æœ
      document.getElementById('resultsPanel').style.display = 'grid';
      
      document.getElementById('result1').textContent = result1.finalReturn + '%';
      document.getElementById('result1').className = 'value ' + (parseFloat(result1.finalReturn) >= 0 ? 'green' : 'red');
      document.getElementById('actualWinrate1').textContent = 'å®é™…èƒœç‡: ' + result1.actualWinrate + '%';
      
      document.getElementById('result2').textContent = result2.finalReturn + '%';
      document.getElementById('result2').className = 'value ' + (parseFloat(result2.finalReturn) >= 0 ? 'yellow' : 'red');
      document.getElementById('actualWinrate2').textContent = 'å®é™…èƒœç‡: ' + result2.actualWinrate + '%';
      
      // åˆ¤æ–­èƒœè€…
      const winner = parseFloat(result1.finalReturn) > parseFloat(result2.finalReturn) ? 1 : 2;
      document.getElementById('winner').textContent = winner === 1 ? 'ğŸ¯ é«˜èƒœç‡' : 'ğŸš€ é«˜ç›ˆäºæ¯”';
      document.getElementById('winner').className = 'value ' + (winner === 1 ? 'green' : 'yellow');
      document.getElementById('winnerSub').textContent = 'é¢†å…ˆ ' + Math.abs(parseFloat(result1.finalReturn) - parseFloat(result2.finalReturn)).toFixed(1) + '%';
      
      // ç»˜åˆ¶å›¾è¡¨
      drawChart(result1.equity, result2.equity);
    }
    
    function runBattle() {
      const winrate1 = parseInt(document.getElementById('winrate1').value);
      const rr1 = parseInt(document.getElementById('rr1').value) / 100;
      const winrate2 = parseInt(document.getElementById('winrate2').value);
      const rr2 = parseInt(document.getElementById('rr2').value) / 100;
      
      let wins1 = 0, wins2 = 0;
      let totalDiff = 0;
      
      for (let i = 0; i < 1000; i++) {
        const result1 = simulateTrades(winrate1, rr1, 100);
        const result2 = simulateTrades(winrate2, rr2, 100);
        
        const r1 = parseFloat(result1.finalReturn);
        const r2 = parseFloat(result2.finalReturn);
        
        if (r1 > r2) wins1++;
        else wins2++;
        
        totalDiff += r1 - r2;
      }
      
      // æ˜¾ç¤ºç»“æœé¢æ¿
      document.getElementById('resultsPanel').style.display = 'grid';
      
      // æ›´æ–°å•æ¬¡æ¨¡æ‹Ÿç»“æœä¸ºå¯¹å†³ç»Ÿè®¡
      document.getElementById('result1').textContent = wins1 + ' èƒœ';
      document.getElementById('result1').className = 'value ' + (wins1 > wins2 ? 'green' : 'red');
      document.getElementById('actualWinrate1').textContent = 'èƒœç‡: ' + (wins1/10).toFixed(1) + '%';
      
      document.getElementById('result2').textContent = wins2 + ' èƒœ';
      document.getElementById('result2').className = 'value ' + (wins2 > wins1 ? 'yellow' : 'red');
      document.getElementById('actualWinrate2').textContent = 'èƒœç‡: ' + (wins2/10).toFixed(1) + '%';
      
      // åˆ¤æ–­èƒœè€…
      const avgDiff = totalDiff / 1000;
      const winner = wins1 > wins2 ? 1 : 2;
      document.getElementById('winner').textContent = winner === 1 ? 'ğŸ¯ é«˜èƒœç‡' : 'ğŸš€ é«˜ç›ˆäºæ¯”';
      document.getElementById('winner').className = 'value ' + (winner === 1 ? 'green' : 'yellow');
      document.getElementById('winnerSub').textContent = 'å¹³å‡æ”¶ç›Šå·®: ' + (avgDiff >= 0 ? '+' : '') + avgDiff.toFixed(1) + '%';
      
      // ä¹Ÿæ˜¾ç¤ºä¸‹æ–¹çš„è¯¦ç»†å¡ç‰‡
      document.getElementById('battleCard').style.display = 'block';
      document.getElementById('battleWin1').textContent = wins1 + ' æ¬¡';
      document.getElementById('battleWin2').textContent = wins2 + ' æ¬¡';
      
      document.getElementById('avgDiff').textContent = (avgDiff >= 0 ? '+' : '') + avgDiff.toFixed(1) + '%';
      document.getElementById('avgDiff').className = 'value ' + (avgDiff >= 0 ? 'green' : 'yellow');
      
      const ev1 = (winrate1/100) * rr1 - (1 - winrate1/100) * 1;
      const ev2 = (winrate2/100) * rr2 - (1 - winrate2/100) * 1;
      
      let conclusion = '';
      if (Math.abs(ev1 - ev2) < 0.05) {
        conclusion = 'ä¸¤ç§ç­–ç•¥æœŸæœ›å€¼æ¥è¿‘ï¼Œèƒœè´Ÿä¸»è¦å–å†³äºè¿æ°”æ³¢åŠ¨ã€‚';
      } else if (ev1 > ev2) {
        conclusion = 'é«˜èƒœç‡ç­–ç•¥æœŸæœ›å€¼æ›´é«˜ï¼Œé•¿æœŸæ¥çœ‹æ›´æœ‰ä¼˜åŠ¿ã€‚';
      } else {
        conclusion = 'é«˜ç›ˆäºæ¯”ç­–ç•¥æœŸæœ›å€¼æ›´é«˜ï¼Œé•¿æœŸæ¥çœ‹æ›´æœ‰ä¼˜åŠ¿ã€‚';
      }
      document.getElementById('battleConclusion').textContent = conclusion;
      
      // æ»šåŠ¨åˆ°ç»“æœä½ç½®
      document.getElementById('resultsPanel').scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    function drawChart(equity1, equity2) {
      const ctx = document.getElementById('equityChart').getContext('2d');
      
      if (chart) chart.destroy();
      
      const labels = equity1.map((_, i) => i);
      
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'ğŸ¯ é«˜èƒœç‡',
              data: equity1,
              borderColor: '#4ade80',
              backgroundColor: 'rgba(74, 222, 128, 0.1)',
              fill: true,
              tension: 0.1,
              pointRadius: 0
            },
            {
              label: 'ğŸš€ é«˜ç›ˆäºæ¯”',
              data: equity2,
              borderColor: '#fbbf24',
              backgroundColor: 'rgba(251, 191, 36, 0.1)',
              fill: true,
              tension: 0.1,
              pointRadius: 0
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              labels: { color: 'rgba(255,255,255,0.8)' }
            }
          },
          scales: {
            x: {
              title: { display: true, text: 'äº¤æ˜“æ¬¡æ•°', color: 'rgba(255,255,255,0.6)' },
              ticks: { color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' }
            },
            y: {
              title: { display: true, text: 'èµ„é‡‘æ›²çº¿', color: 'rgba(255,255,255,0.6)' },
              ticks: { color: 'rgba(255,255,255,0.5)' },
              grid: { color: 'rgba(255,255,255,0.05)' }
            }
          }
        }
      });
    }
    
    // åˆå§‹åŒ–
    updateStrategy();
  </script>
</body>
</html>