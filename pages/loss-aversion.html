<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŸå¤±åŒæ¶ - ä½ ä¸æ˜¯ç†æ€§çš„ï¼Œä½ æ˜¯æ€•ç–¼çš„</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../components/header.js" defer></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .back-link {
      display: inline-block;
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    .back-link:hover { text-decoration: underline; }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
      background: linear-gradient(135deg, #ff6b6b, #ffd93d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      margin-bottom: 25px;
      font-size: 0.95rem;
    }
    .card {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    
    /* æµ‹è¯•åŒºåŸŸ */
    .test-section {
      text-align: center;
      padding: 20px 0;
    }
    .test-question {
      font-size: 1.2rem;
      margin-bottom: 25px;
      line-height: 1.8;
      color: rgba(255,255,255,0.9);
    }
    .test-question strong { color: #ffd93d; }
    .test-question .lose { color: #ff6b6b; }
    .test-question .win { color: #4ade80; }
    
    .choice-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .choice-btn {
      padding: 20px 40px;
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      background: rgba(0,0,0,0.3);
      color: white;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
      min-width: 200px;
    }
    .choice-btn:hover {
      border-color: #ffd93d;
      transform: translateY(-3px);
    }
    .choice-btn.selected {
      border-color: #ffd93d;
      background: rgba(255,217,61,0.2);
    }
    .choice-btn .label {
      font-weight: bold;
      margin-bottom: 8px;
    }
    .choice-btn .detail {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.6);
    }
    
    .test-result {
      margin-top: 25px;
      padding: 20px;
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      display: none;
    }
    .test-result.show { display: block; }
    .test-result h3 {
      color: #ffd93d;
      margin-bottom: 10px;
    }
    .test-result p {
      color: rgba(255,255,255,0.8);
      line-height: 1.7;
    }
    
    /* æ¨¡æ‹Ÿæ¸¸æˆ */
    .game-area {
      text-align: center;
      padding: 20px 0;
    }
    .game-info {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    .info-box {
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 15px 25px;
      min-width: 140px;
    }
    .info-box .label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.5);
      margin-bottom: 5px;
    }
    .info-box .value {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .info-box .value.money { color: #ffd93d; }
    .info-box .value.round { color: #4ade80; }
    .info-box .value.negative { color: #ff6b6b; }
    
    .game-prompt {
      font-size: 1.1rem;
      margin-bottom: 20px;
      padding: 15px;
      background: linear-gradient(135deg, rgba(255,107,107,0.15), rgba(255,217,61,0.1));
      border-radius: 10px;
      line-height: 1.7;
    }
    .game-prompt .win { color: #4ade80; font-weight: bold; }
    .game-prompt .lose { color: #ff6b6b; font-weight: bold; }
    
    .game-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .game-btn {
      padding: 15px 35px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }
    .game-btn.accept {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: white;
    }
    .game-btn.reject {
      background: linear-gradient(135deg, #ff6b6b, #ef4444);
      color: white;
    }
    .game-btn.reset {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .game-btn:hover {
      transform: translateY(-2px);
    }
    .game-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    .game-result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      font-size: 1.1rem;
      display: none;
    }
    .game-result.show { display: block; }
    .game-result.win {
      background: rgba(74,222,128,0.2);
      color: #4ade80;
    }
    .game-result.lose {
      background: rgba(255,107,107,0.2);
      color: #ff6b6b;
    }
    .game-result.skip {
      background: rgba(255,255,255,0.1);
      color: rgba(255,255,255,0.7);
    }
    
    /* å†å²è®°å½• */
    .history-section {
      margin-top: 20px;
    }
    .history-section h4 {
      color: rgba(255,255,255,0.6);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }
    .history-list {
      max-height: 150px;
      overflow-y: auto;
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 10px;
    }
    .history-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 0.9rem;
    }
    .history-item:last-child { border-bottom: none; }
    .history-item.win { color: #4ade80; }
    .history-item.lose { color: #ff6b6b; }
    .history-item.skip { color: rgba(255,255,255,0.5); }
    
    /* ç»Ÿè®¡å¯¹æ¯” */
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 25px;
    }
    @media (max-width: 600px) {
      .comparison { grid-template-columns: 1fr; }
    }
    .compare-card {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    .compare-card h4 {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.6);
      margin-bottom: 15px;
    }
    .compare-card .big-num {
      font-size: 2.2rem;
      font-weight: bold;
    }
    .compare-card .big-num.positive { color: #4ade80; }
    .compare-card .big-num.negative { color: #ff6b6b; }
    .compare-card .big-num.neutral { color: #ffd93d; }
    .compare-card .desc {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.5);
      margin-top: 8px;
    }
    
    /* å›¾è¡¨ */
    .chart-container {
      position: relative;
      height: 250px;
      margin-top: 20px;
    }
    
    /* åˆ†æåŒº */
    .analysis {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 22px;
      margin-top: 20px;
    }
    .analysis h3 {
      color: #ffd93d;
      margin-bottom: 15px;
      font-size: 1.1rem;
    }
    .analysis p {
      color: rgba(255,255,255,0.85);
      line-height: 1.85;
      margin-bottom: 14px;
    }
    .analysis .formula {
      background: rgba(255,255,255,0.08);
      padding: 12px 16px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 14px 0;
      overflow-x: auto;
    }
    .analysis .highlight { color: #ff6b6b; font-weight: bold; }
    .analysis .safe { color: #4ade80; font-weight: bold; }
    
    /* ç”Ÿæ´»æ¡ˆä¾‹ */
    .cases {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    @media (max-width: 550px) {
      .cases { grid-template-columns: 1fr; }
    }
    .case-card {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 18px;
      border-left: 3px solid #ff6b6b;
    }
    .case-card h4 {
      color: #ffd93d;
      font-size: 0.95rem;
      margin-bottom: 10px;
    }
    .case-card p {
      color: rgba(255,255,255,0.7);
      font-size: 0.9rem;
      line-height: 1.6;
    }
    
    /* ç»“è®º */
    .conclusion {
      background: linear-gradient(135deg, rgba(255,107,107,0.15), rgba(255,217,61,0.1));
      border: 2px solid #ffd93d;
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      margin-top: 20px;
    }
    .conclusion h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #ff6b6b;
    }
    .conclusion p {
      color: rgba(255,255,255,0.9);
      line-height: 1.85;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    <h1>ğŸ˜° æŸå¤±åŒæ¶</h1>
    <p class="subtitle">ä½ ä¸æ˜¯ç†æ€§çš„ï¼Œä½ æ˜¯æ€•ç–¼çš„</p>
    
    <!-- æµ‹è¯•1 -->
    <div class="card">
      <h2 style="margin-bottom: 20px; color: #ffd93d;">ğŸ§ª æµ‹è¯•ä¸€ä¸‹ä½ çš„æŸå¤±åŒæ¶</h2>
      
      <div class="test-section" id="test1">
        <div class="test-question">
          <strong>é—®é¢˜1ï¼š</strong>æŠ›ä¸€æšç¡¬å¸<br>
          æ­£é¢ï¼šä½ èµ¢ <span class="win">100å…ƒ</span><br>
          åé¢ï¼šä½ è¾“ <span class="lose">100å…ƒ</span><br><br>
          æœŸæœ›å€¼ = 0ï¼Œå…¬å¹³æ¸¸æˆã€‚ä½ ç©å—ï¼Ÿ
        </div>
        <div class="choice-buttons">
          <button class="choice-btn" onclick="answer1('yes')">
            <div class="label">âœ… ç©</div>
            <div class="detail">å…¬å¹³æ¸¸æˆï¼Œä¸ºä»€ä¹ˆä¸ï¼Ÿ</div>
          </button>
          <button class="choice-btn" onclick="answer1('no')">
            <div class="label">âŒ ä¸ç©</div>
            <div class="detail">æ²¡å¿…è¦å†’é™©</div>
          </button>
        </div>
        <div class="test-result" id="result1"></div>
      </div>
    </div>
    
    <!-- æµ‹è¯•2 -->
    <div class="card">
      <div class="test-section" id="test2">
        <div class="test-question">
          <strong>é—®é¢˜2ï¼š</strong>è¿˜æ˜¯æŠ›ç¡¬å¸<br>
          æ­£é¢ï¼šä½ èµ¢ <span class="win">150å…ƒ</span><br>
          åé¢ï¼šä½ è¾“ <span class="lose">100å…ƒ</span><br><br>
          æœŸæœ›å€¼ = +25å…ƒï¼Œå¯¹ä½ æœ‰åˆ©ã€‚ä½ ç©å—ï¼Ÿ
        </div>
        <div class="choice-buttons">
          <button class="choice-btn" onclick="answer2('yes')">
            <div class="label">âœ… ç©</div>
            <div class="detail">æœŸæœ›å€¼ä¸ºæ­£ï¼Œåº”è¯¥ç©</div>
          </button>
          <button class="choice-btn" onclick="answer2('no')">
            <div class="label">âŒ ä¸ç©</div>
            <div class="detail">è¿˜æ˜¯å¯èƒ½äº100</div>
          </button>
        </div>
        <div class="test-result" id="result2"></div>
      </div>
    </div>
    
    <!-- æµ‹è¯•3 -->
    <div class="card">
      <div class="test-section" id="test3">
        <div class="test-question">
          <strong>é—®é¢˜3ï¼š</strong>èµ¢å¤šå°‘ä½ æ‰æ„¿æ„ç©ï¼Ÿ<br>
          åé¢å›ºå®šè¾“ <span class="lose">100å…ƒ</span><br>
          æ­£é¢è‡³å°‘èµ¢å¤šå°‘ï¼Œä½ æ‰æ„¿æ„å‚ä¸ï¼Ÿ
        </div>
        <div class="choice-buttons">
          <button class="choice-btn" onclick="answer3(150)">
            <div class="label">150å…ƒ</div>
            <div class="detail">1.5å€å°±å¤Ÿäº†</div>
          </button>
          <button class="choice-btn" onclick="answer3(200)">
            <div class="label">200å…ƒ</div>
            <div class="detail">è‡³å°‘2å€</div>
          </button>
          <button class="choice-btn" onclick="answer3(250)">
            <div class="label">250å…ƒ</div>
            <div class="detail">2.5å€æ‰è¡Œ</div>
          </button>
          <button class="choice-btn" onclick="answer3(300)">
            <div class="label">300å…ƒ+</div>
            <div class="detail">3å€ä»¥ä¸Š</div>
          </button>
        </div>
        <div class="test-result" id="result3"></div>
      </div>
    </div>
    
    <!-- æ¨¡æ‹Ÿæ¸¸æˆ -->
    <div class="card">
      <h2 style="margin-bottom: 20px; color: #ffd93d;">ğŸ® æŸå¤±åŒæ¶æ¨¡æ‹Ÿå™¨</h2>
      <p style="color: rgba(255,255,255,0.7); margin-bottom: 20px;">
        ä½ æœ‰10000å…ƒæœ¬é‡‘ï¼Œå…±20è½®æœºä¼šã€‚æ¯è½®éƒ½æ˜¯ä¸€ä¸ª"æœŸæœ›å€¼ä¸ºæ­£"çš„èµŒå±€ï¼Œä½†ä½ å¯ä»¥é€‰æ‹©è·³è¿‡ã€‚<br>
        çœ‹çœ‹ä½ çš„æŸå¤±åŒæ¶ä¼šè®©ä½ é”™è¿‡å¤šå°‘æ”¶ç›Šã€‚
      </p>
      
      <div class="game-area">
        <div class="game-info">
          <div class="info-box">
            <div class="label">å½“å‰èµ„é‡‘</div>
            <div class="value money" id="currentMoney">Â¥10,000</div>
          </div>
          <div class="info-box">
            <div class="label">è½®æ¬¡</div>
            <div class="value round" id="currentRound">1/20</div>
          </div>
          <div class="info-box">
            <div class="label">ç´¯è®¡æ”¶ç›Š</div>
            <div class="value money" id="totalProfit">Â¥0</div>
          </div>
        </div>
        
        <div class="game-prompt" id="gamePrompt">
          æœ¬è½®èµŒå±€ï¼š<br>
          50% èµ¢ <span class="win" id="winAmount">+600å…ƒ</span>ï¼Œ
          50% è¾“ <span class="lose" id="loseAmount">-400å…ƒ</span><br>
          æœŸæœ›å€¼ï¼š<span id="expectedValue">+100å…ƒ</span>
        </div>
        
        <div class="game-buttons">
          <button class="game-btn accept" id="acceptBtn" onclick="playRound(true)">âœ… æ¥å—èµŒå±€</button>
          <button class="game-btn reject" id="rejectBtn" onclick="playRound(false)">âŒ è·³è¿‡</button>
          <button class="game-btn reset" onclick="resetGame()">ğŸ”„ é‡æ–°å¼€å§‹</button>
        </div>
        
        <div class="game-result" id="gameResult"></div>
        
        <div class="comparison" id="comparison" style="display: none;">
          <div class="compare-card">
            <h4>ğŸ˜° ä½ çš„å®é™…æ”¶ç›Š</h4>
            <div class="big-num" id="yourProfit">-</div>
            <div class="desc">è·³è¿‡äº† <span id="skipCount">0</span> æ¬¡</div>
          </div>
          <div class="compare-card">
            <h4>ğŸ¤– ç†æ€§äººçš„æ”¶ç›Š</h4>
            <div class="big-num positive" id="rationalProfit">-</div>
            <div class="desc">å…¨éƒ¨æ¥å—çš„æœŸæœ›æ”¶ç›Š</div>
          </div>
        </div>
        
        <div class="history-section">
          <h4>ğŸ“œ å†å²è®°å½•</h4>
          <div class="history-list" id="historyList">
            <div class="history-item skip">ç­‰å¾…å¼€å§‹...</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- å¤§è§„æ¨¡æ¨¡æ‹Ÿ -->
    <div class="card">
      <h2 style="margin-bottom: 15px; color: #ffd93d;">ğŸ“Š 1000äººæ¨¡æ‹Ÿï¼šæŸå¤±åŒæ¶çš„ä»£ä»·</h2>
      <p style="color: rgba(255,255,255,0.7); margin-bottom: 20px;">
        æ¨¡æ‹Ÿ1000äººç©100è½®"æœŸæœ›å€¼+100"çš„æ¸¸æˆ<br>
        å¯¹æ¯”"å…¨éƒ¨æ¥å—"vs"æŸå¤±åŒæ¶è€…ï¼ˆè¾“äº†å°±ä¸ç©äº†ï¼‰"çš„ç»“æœ
      </p>
      
      <div style="text-align: center; margin-bottom: 20px;">
        <button class="game-btn accept" onclick="runMassSimulation()" id="massSimBtn">ğŸš€ è¿è¡Œæ¨¡æ‹Ÿ</button>
      </div>
      
      <div id="massResults" style="display: none;">
        <div class="comparison">
          <div class="compare-card">
            <h4>ğŸ¤– ç†æ€§ç»„ï¼ˆå…¨éƒ¨æ¥å—ï¼‰</h4>
            <div class="big-num positive" id="massRational">-</div>
            <div class="desc">äººå‡æœ€ç»ˆæ”¶ç›Š</div>
          </div>
          <div class="compare-card">
            <h4>ğŸ˜° åŒæ¶ç»„ï¼ˆè¾“äº†å°±è·‘ï¼‰</h4>
            <div class="big-num" id="massAverse">-</div>
            <div class="desc">äººå‡æœ€ç»ˆæ”¶ç›Š</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="distributionChart"></canvas>
        </div>
      </div>
    </div>

    <!-- åˆ†æ -->
    <div class="card analysis">
      <h3>ğŸ“ æŸå¤±åŒæ¶çš„æ•°å­¦</h3>
      
      <p><strong>å¡å°¼æ›¼çš„å‘ç°</strong></p>
      <p>
        è¯ºè´å°”ç»æµå­¦å¥–å¾—ä¸»ä¸¹å°¼å°”Â·å¡å°¼æ›¼å‘ç°ï¼š<br>
        <span class="highlight">å¤±å»100å…ƒçš„ç—›è‹¦ â‰ˆ å¾—åˆ°200-250å…ƒçš„å¿«ä¹</span>
      </p>
      <div class="formula">
        æŸå¤±åŒæ¶ç³»æ•° Î» â‰ˆ 2.0 ~ 2.5<br>
        å³ï¼šLossçš„å¿ƒç†æƒé‡æ˜¯Gainçš„2å€ä»¥ä¸Š
      </div>
      
      <p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p>
      <p>
        ä¸€ä¸ªæœŸæœ›å€¼ä¸ºæ­£çš„èµŒå±€ï¼Œæ¯”å¦‚"50%èµ¢150ï¼Œ50%è¾“100"ï¼š<br>
        â€¢ æ•°å­¦æœŸæœ›ï¼š0.5Ã—150 - 0.5Ã—100 = <span class="safe">+25å…ƒ</span><br>
        â€¢ å¿ƒç†æœŸæœ›ï¼š0.5Ã—150 - 0.5Ã—100Ã—2.25 = <span class="highlight">-37.5å…ƒ</span>
      </p>
      <p>
        ç†æ€§ä¸Šåº”è¯¥ç©ï¼Œä½†ä½ çš„å¤§è„‘å‘Šè¯‰ä½ "ä¸åˆ’ç®—"ã€‚
      </p>
      
      <p><strong>è¿›åŒ–çš„é—äº§</strong></p>
      <p>
        åœ¨åŸå§‹ç¤¾ä¼šï¼ŒæŸå¤±åŒæ¶æ˜¯æ•‘å‘½çš„ï¼š<br>
        â€¢ å¤šåƒä¸€é¡¿é¥­ â†’ ç¨å¾®èˆ’æœä¸€ç‚¹<br>
        â€¢ å°‘åƒä¸€é¡¿é¥­ â†’ å¯èƒ½é¥¿æ­»<br><br>
        ä½†åœ¨ç°ä»£ç¤¾ä¼šï¼Œè¿™ç§æœ¬èƒ½è®©ä½ <span class="highlight">è¿‡åº¦ä¿å®ˆ</span>ï¼Œé”™è¿‡å¾ˆå¤šæœºä¼šã€‚
      </p>
    </div>
    
    <!-- ç”Ÿæ´»æ¡ˆä¾‹ -->
    <div class="card">
      <h3 style="color: #ffd93d; margin-bottom: 20px;">ğŸ¯ æŸå¤±åŒæ¶å¦‚ä½•å½±å“ä½ çš„äººç”Ÿ</h3>
      
      <div class="cases">
        <div class="case-card">
          <h4>ğŸ’¼ ä¸æ•¢è·³æ§½</h4>
          <p>ç°åœ¨çš„å·¥ä½œç¨³å®šä½†æ²¡å‰é€”ã€‚æ–°æœºä¼šè–ªèµ„é«˜50%ï¼Œä½†"ä¸‡ä¸€ä¸é€‚åº”å‘¢"ï¼Ÿäºæ˜¯ä½ é€‰æ‹©ç•™ä¸‹ï¼Œåå¹´åè¿˜åœ¨åŸåœ°ã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ“ˆ å‰²è‚‰å¤ªæ™š</h4>
          <p>è‚¡ç¥¨è·Œäº†20%ï¼Œä½ ä¸å–ï¼Œå› ä¸º"å–äº†å°±çœŸäºäº†"ã€‚ç»“æœè·Œåˆ°50%æ‰å‰²è‚‰ã€‚èµ¢çš„æ—¶å€™åè€Œæ—©æ—©è½è¢‹ä¸ºå®‰ã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ’‘ ä¸æ•¢è¡¨ç™½</h4>
          <p>å–œæ¬¢ä¸€ä¸ªäººï¼Œä½†"è¢«æ‹’ç»å¤ªä¸¢äººäº†"ã€‚äºæ˜¯ä½ é€‰æ‹©ä¸è¡¨ç™½ï¼Œé”™è¿‡å¯èƒ½çš„å¹¸ç¦ï¼Œæ¢æ¥ç¡®å®šçš„é—æ†¾ã€‚</p>
        </div>
        <div class="case-card">
          <h4>ğŸ  ä¸æ•¢æ”¹å˜</h4>
          <p>çŸ¥é“åº”è¯¥å¥èº«/å­¦ä¹ /æ—©èµ·ï¼Œä½†"æ”¹å˜å¤ªç´¯äº†ï¼Œå¤±è´¥äº†æ›´éš¾å—"ã€‚äºæ˜¯ä½ é€‰æ‹©ä¸å˜ï¼Œä¸€å¹´åè¿˜æ˜¯è€æ ·å­ã€‚</p>
        </div>
      </div>
    </div>
    
    <!-- ç»“è®º -->
    <div class="card conclusion">
      <h3>ğŸ’¡ çº åï¼šå¦‚ä½•å¯¹æŠ—æŸå¤±åŒæ¶</h3>
      <p>
        æŸå¤±åŒæ¶æ˜¯åˆ»åœ¨åŸºå› é‡Œçš„ï¼Œä½ æ²¡æ³•æ¶ˆé™¤å®ƒï¼Œä½†å¯ä»¥<strong>æ„è¯†åˆ°å®ƒ</strong>ã€‚<br><br>
        ä¸‹æ¬¡åšå†³å®šæ—¶ï¼Œé—®è‡ªå·±ï¼š<br>
        <span style="color: #ffd93d;">ã€Œæˆ‘æ˜¯çœŸçš„ä¸è¯¥åšï¼Œè¿˜æ˜¯åªæ˜¯æ€•ç–¼ï¼Ÿã€</span><br><br>
        å¦‚æœä¸€ä»¶äº‹çš„æœŸæœ›å€¼æ˜¯æ­£çš„ï¼Œä½†ä½ ä¸æ•¢åšâ€”â€”<br>
        é‚£ä¸æ˜¯ç†æ€§ï¼Œæ˜¯<span style="color: #ff6b6b;">ææƒ§åœ¨æ›¿ä½ åšå†³å®š</span>ã€‚<br><br>
        <span style="color: rgba(255,255,255,0.6);">
          æœ‰æ—¶å€™ï¼Œ"ä¸æ”¹å˜"æ‰æ˜¯æœ€å¤§çš„æŸå¤±ã€‚<br>
          ä½ ä»¥ä¸ºä½ åœ¨è§„é¿é£é™©ï¼Œå…¶å®ä½ åœ¨è§„é¿äººç”Ÿã€‚
        </span>
      </p>
    </div>
  </div>

  <script>
    // æµ‹è¯•éƒ¨åˆ†
    function answer1(choice) {
      const btns = document.querySelectorAll('#test1 .choice-btn');
      btns.forEach(b => b.classList.remove('selected'));
      event.target.closest('.choice-btn').classList.add('selected');
      
      const result = document.getElementById('result1');
      result.classList.add('show');
      
      if (choice === 'no') {
        result.innerHTML = `
          <h3>ğŸ˜° å…¸å‹çš„æŸå¤±åŒæ¶</h3>
          <p>æœŸæœ›å€¼ä¸º0çš„å…¬å¹³æ¸¸æˆï¼Œå¤§å¤šæ•°äººé€‰æ‹©ä¸ç©ã€‚<br>
          å› ä¸º"å¯èƒ½è¾“100"çš„ææƒ§ï¼Œå¤§äº"å¯èƒ½èµ¢100"çš„æœŸå¾…ã€‚<br>
          è¿™å°±æ˜¯æŸå¤±åŒæ¶â€”â€”ä½ ä¸æ˜¯åœ¨è®¡ç®—ï¼Œä½ æ˜¯åœ¨å®³æ€•ã€‚</p>
        `;
      } else {
        result.innerHTML = `
          <h3>ğŸ§  ç†æ€§é€‰æ‹©</h3>
          <p>æœŸæœ›å€¼ä¸º0ï¼Œç©ä¸ç©éƒ½è¡Œã€‚<br>
          ä½†å¤§å¤šæ•°äººä¼šé€‰æ‹©ä¸ç©ï¼Œå› ä¸ºæŸå¤±çš„ç—›è‹¦æ¯”æ”¶ç›Šçš„å¿«ä¹æ›´å¼ºçƒˆã€‚<br>
          ä½ èƒ½æ¥å—å…¬å¹³æ¸¸æˆï¼Œè¯´æ˜ä½ çš„æŸå¤±åŒæ¶ç¨‹åº¦è¾ƒä½ã€‚</p>
        `;
      }
    }
    
    function answer2(choice) {
      const btns = document.querySelectorAll('#test2 .choice-btn');
      btns.forEach(b => b.classList.remove('selected'));
      event.target.closest('.choice-btn').classList.add('selected');
      
      const result = document.getElementById('result2');
      result.classList.add('show');
      
      if (choice === 'no') {
        result.innerHTML = `
          <h3>ğŸ˜° æŸå¤±åŒæ¶åœ¨ä½œç¥Ÿ</h3>
          <p>æœŸæœ›å€¼+25å…ƒï¼Œé•¿æœŸç©ä¸‹å»ç¨³èµšã€‚ä½†ä½ è¿˜æ˜¯ä¸æ•¢ã€‚<br>
          å› ä¸ºä½ çš„å¤§è„‘æŠŠ"è¾“100"çš„æƒé‡æ”¾å¤§äº†2å€ä»¥ä¸Šã€‚<br>
          å¿ƒç†è´¦æœ¬ï¼š0.5Ã—150 - 0.5Ã—100Ã—2.25 = -37.5ï¼ˆäºçš„æ„Ÿè§‰ï¼‰</p>
        `;
      } else {
        result.innerHTML = `
          <h3>ğŸ§  æ­£ç¡®ï¼</h3>
          <p>æœŸæœ›å€¼ä¸ºæ­£çš„æ¸¸æˆï¼Œç†æ€§ä¸Šåº”è¯¥å‚ä¸ã€‚<br>
          ä½†ç ”ç©¶æ˜¾ç¤ºï¼Œå¤§å¤šæ•°äººåœ¨"èµ¢150è¾“100"æ—¶ä»ç„¶é€‰æ‹©ä¸ç©ã€‚<br>
          ä½ èƒ½å…‹æœææƒ§åšå‡ºç†æ€§é€‰æ‹©ï¼Œå¾ˆæ£’ã€‚</p>
        `;
      }
    }
    
    function answer3(amount) {
      const btns = document.querySelectorAll('#test3 .choice-btn');
      btns.forEach(b => b.classList.remove('selected'));
      event.target.closest('.choice-btn').classList.add('selected');
      
      const result = document.getElementById('result3');
      result.classList.add('show');
      
      const ratio = amount / 100;
      let analysis = '';
      
      if (ratio <= 1.5) {
        analysis = `ä½ çš„æŸå¤±åŒæ¶ç³»æ•°çº¦ä¸º <strong>1.5</strong>ï¼Œä½äºå¹³å‡æ°´å¹³ã€‚ä½ ç›¸å¯¹ç†æ€§ï¼Œä¸å¤ªå®¹æ˜“è¢«ææƒ§å·¦å³ã€‚`;
      } else if (ratio <= 2) {
        analysis = `ä½ çš„æŸå¤±åŒæ¶ç³»æ•°çº¦ä¸º <strong>2.0</strong>ï¼Œæ¥è¿‘äººç±»å¹³å‡æ°´å¹³ã€‚å¤±å»100å…ƒçš„ç—›è‹¦ï¼Œéœ€è¦èµ¢200å…ƒæ‰èƒ½å¼¥è¡¥ã€‚`;
      } else if (ratio <= 2.5) {
        analysis = `ä½ çš„æŸå¤±åŒæ¶ç³»æ•°çº¦ä¸º <strong>2.5</strong>ï¼Œç•¥é«˜äºå¹³å‡ã€‚ä½ æ¯”è¾ƒåŒæ¶é£é™©ï¼Œå¯èƒ½ä¼šé”™è¿‡ä¸€äº›æœŸæœ›å€¼ä¸ºæ­£çš„æœºä¼šã€‚`;
      } else {
        analysis = `ä½ çš„æŸå¤±åŒæ¶ç³»æ•°çº¦ä¸º <strong>3.0+</strong>ï¼Œæ˜æ˜¾é«˜äºå¹³å‡ã€‚ä½ éå¸¸åŒæ¶æŸå¤±ï¼Œè¿™å¯èƒ½è®©ä½ è¿‡åº¦ä¿å®ˆã€‚`;
      }
      
      result.innerHTML = `
        <h3>ğŸ“Š ä½ çš„æŸå¤±åŒæ¶ç³»æ•°</h3>
        <p>${analysis}<br><br>
        å¡å°¼æ›¼çš„ç ”ç©¶æ˜¾ç¤ºï¼Œäººç±»å¹³å‡çš„æŸå¤±åŒæ¶ç³»æ•°åœ¨ 2.0-2.5 ä¹‹é—´ã€‚<br>
        è¿™æ„å‘³ç€ï¼Œè¦è®©æ™®é€šäººæ¥å—"50%è¾“100"çš„èµŒå±€ï¼Œèµ¢çš„é‡‘é¢éœ€è¦è¾¾åˆ°200-250å…ƒã€‚</p>
      `;
    }
    
    // æ¸¸æˆéƒ¨åˆ†
    let money = 10000;
    let round = 1;
    let totalRounds = 20;
    let history = [];
    let skipped = 0;
    let totalExpected = 0;
    let currentWin = 0;
    let currentLose = 0;
    
    function generateRound() {
      // ç”Ÿæˆä¸€ä¸ªæœŸæœ›å€¼ä¸ºæ­£çš„èµŒå±€
      currentLose = 300 + Math.floor(Math.random() * 300); // è¾“300-600
      currentWin = currentLose + 100 + Math.floor(Math.random() * 200); // èµ¢çš„æ¯”è¾“çš„å¤š100-300
      
      const ev = (currentWin - currentLose) / 2;
      totalExpected += ev;
      
      document.getElementById('winAmount').textContent = '+' + currentWin + 'å…ƒ';
      document.getElementById('loseAmount').textContent = '-' + currentLose + 'å…ƒ';
      document.getElementById('expectedValue').textContent = '+' + ev.toFixed(0) + 'å…ƒ';
    }
    
    function playRound(accept) {
      const resultEl = document.getElementById('gameResult');
      
      if (accept) {
        const win = Math.random() < 0.5;
        if (win) {
          money += currentWin;
          history.unshift({ round, action: 'win', amount: currentWin });
          resultEl.className = 'game-result show win';
          resultEl.textContent = `ğŸ‰ ç¬¬${round}è½®ï¼šèµ¢äº† +${currentWin}å…ƒï¼`;
        } else {
          money -= currentLose;
          history.unshift({ round, action: 'lose', amount: -currentLose });
          resultEl.className = 'game-result show lose';
          resultEl.textContent = `ğŸ’€ ç¬¬${round}è½®ï¼šè¾“äº† -${currentLose}å…ƒ`;
        }
      } else {
        skipped++;
        history.unshift({ round, action: 'skip', amount: 0 });
        resultEl.className = 'game-result show skip';
        resultEl.textContent = `â­ï¸ ç¬¬${round}è½®ï¼šè·³è¿‡ï¼ˆé”™è¿‡æœŸæœ›å€¼ +${((currentWin - currentLose) / 2).toFixed(0)}å…ƒï¼‰`;
      }
      
      round++;
      updateGameUI();
      
      if (round > totalRounds) {
        endGame();
      } else {
        generateRound();
      }
    }
    
    function updateGameUI() {
      document.getElementById('currentMoney').textContent = 'Â¥' + money.toLocaleString();
      document.getElementById('currentRound').textContent = Math.min(round, totalRounds) + '/' + totalRounds;
      
      const profit = money - 10000;
      const profitEl = document.getElementById('totalProfit');
      profitEl.textContent = (profit >= 0 ? '+' : '') + 'Â¥' + profit.toLocaleString();
      profitEl.classList.toggle('negative', profit < 0);
      
      // æ›´æ–°å†å²
      const historyEl = document.getElementById('historyList');
      historyEl.innerHTML = history.slice(0, 10).map(h => {
        let text = '';
        if (h.action === 'win') text = `ç¬¬${h.round}è½®ï¼šæ¥å— â†’ èµ¢äº† +${h.amount}å…ƒ`;
        else if (h.action === 'lose') text = `ç¬¬${h.round}è½®ï¼šæ¥å— â†’ è¾“äº† ${h.amount}å…ƒ`;
        else text = `ç¬¬${h.round}è½®ï¼šè·³è¿‡`;
        return `<div class="history-item ${h.action}">${text}</div>`;
      }).join('');
    }
    
    function endGame() {
      document.getElementById('acceptBtn').disabled = true;
      document.getElementById('rejectBtn').disabled = true;
      
      const profit = money - 10000;
      const comparison = document.getElementById('comparison');
      comparison.style.display = 'grid';
      
      const yourProfitEl = document.getElementById('yourProfit');
      yourProfitEl.textContent = (profit >= 0 ? '+' : '') + 'Â¥' + profit.toLocaleString();
      yourProfitEl.className = 'big-num ' + (profit >= 0 ? 'positive' : 'negative');
      
      document.getElementById('skipCount').textContent = skipped;
      document.getElementById('rationalProfit').textContent = '+Â¥' + totalExpected.toFixed(0);
      
      const resultEl = document.getElementById('gameResult');
      resultEl.className = 'game-result show ' + (profit >= 0 ? 'win' : 'lose');
      resultEl.textContent = `æ¸¸æˆç»“æŸï¼æœ€ç»ˆæ”¶ç›Šï¼š${profit >= 0 ? '+' : ''}${profit}å…ƒã€‚è·³è¿‡äº†${skipped}æ¬¡ï¼Œé”™è¿‡äº†çº¦${(totalExpected - profit).toFixed(0)}å…ƒæœŸæœ›æ”¶ç›Šã€‚`;
    }
    
    function resetGame() {
      money = 10000;
      round = 1;
      history = [];
      skipped = 0;
      totalExpected = 0;
      
      document.getElementById('acceptBtn').disabled = false;
      document.getElementById('rejectBtn').disabled = false;
      document.getElementById('comparison').style.display = 'none';
      document.getElementById('gameResult').classList.remove('show');
      
      generateRound();
      updateGameUI();
      document.getElementById('historyList').innerHTML = '<div class="history-item skip">ç­‰å¾…å¼€å§‹...</div>';
    }
    
    // å¤§è§„æ¨¡æ¨¡æ‹Ÿ
    let distributionChart = null;
    
    function runMassSimulation() {
      const btn = document.getElementById('massSimBtn');
      btn.disabled = true;
      btn.textContent = 'æ¨¡æ‹Ÿä¸­...';
      
      setTimeout(() => {
        const people = 1000;
        const rounds = 100;
        
        // ç†æ€§ç»„ï¼šå…¨éƒ¨æ¥å—
        const rationalResults = [];
        for (let i = 0; i < people; i++) {
          let m = 10000;
          for (let r = 0; r < rounds; r++) {
            const lose = 300 + Math.random() * 300;
            const win = lose + 100 + Math.random() * 200;
            m += Math.random() < 0.5 ? win : -lose;
          }
          rationalResults.push(m - 10000);
        }
        
        // åŒæ¶ç»„ï¼šè¾“äº†å°±è·‘ï¼ˆè¿ç»­è¾“2æ¬¡å°±ä¸ç©äº†ï¼‰
        const averseResults = [];
        for (let i = 0; i < people; i++) {
          let m = 10000;
          let consecutiveLosses = 0;
          let playing = true;
          for (let r = 0; r < rounds; r++) {
            if (!playing) continue;
            
            const lose = 300 + Math.random() * 300;
            const win = lose + 100 + Math.random() * 200;
            
            if (Math.random() < 0.5) {
              m += win;
              consecutiveLosses = 0;
            } else {
              m -= lose;
              consecutiveLosses++;
              if (consecutiveLosses >= 2) {
                playing = false; // è¿è¾“2æ¬¡å°±ä¸ç©äº†
              }
            }
          }
          averseResults.push(m - 10000);
        }
        
        const rationalAvg = rationalResults.reduce((a, b) => a + b, 0) / people;
        const averseAvg = averseResults.reduce((a, b) => a + b, 0) / people;
        
        document.getElementById('massRational').textContent = '+Â¥' + rationalAvg.toFixed(0);
        
        const averseEl = document.getElementById('massAverse');
        averseEl.textContent = (averseAvg >= 0 ? '+' : '') + 'Â¥' + averseAvg.toFixed(0);
        averseEl.className = 'big-num ' + (averseAvg >= 0 ? 'positive' : 'negative');
        
        document.getElementById('massResults').style.display = 'block';
        
        drawDistribution(rationalResults, averseResults);
        
        btn.disabled = false;
        btn.textContent = 'ğŸš€ é‡æ–°æ¨¡æ‹Ÿ';
      }, 100);
    }
    
    function drawDistribution(rational, averse) {
      const ctx = document.getElementById('distributionChart').getContext('2d');
      
      if (distributionChart) distributionChart.destroy();
      
      // åˆ†æ¡¶
      const buckets = [-5000, 0, 5000, 10000, 15000, 20000, 30000];
      const labels = ['<-5k', '-5k~0', '0~5k', '5k~10k', '10k~15k', '15k~20k', '>20k'];
      
      function countBuckets(data) {
        const counts = new Array(labels.length).fill(0);
        data.forEach(v => {
          for (let i = 0; i < buckets.length; i++) {
            if (v < buckets[i]) {
              counts[i]++;
              return;
            }
          }
          counts[counts.length - 1]++;
        });
        return counts;
      }
      
      distributionChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'ç†æ€§ç»„',
              data: countBuckets(rational),
              backgroundColor: 'rgba(74, 222, 128, 0.7)',
              borderRadius: 4
            },
            {
              label: 'åŒæ¶ç»„',
              data: countBuckets(averse),
              backgroundColor: 'rgba(255, 107, 107, 0.7)',
              borderRadius: 4
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              labels: { color: 'rgba(255,255,255,0.7)' }
            }
          },
          scales: {
            x: {
              grid: { display: false },
              ticks: { color: 'rgba(255,255,255,0.6)' }
            },
            y: {
              grid: { color: 'rgba(255,255,255,0.05)' },
              ticks: { color: 'rgba(255,255,255,0.5)' }
            }
          }
        }
      });
    }
    
    // åˆå§‹åŒ–
    generateRound();
    updateGameUI();
  </script>
</body>
</html>
